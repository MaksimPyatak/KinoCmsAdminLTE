import{_ as re,o as x,c as q,a as F,r as be,b as N,d as $,e as ye,u as c,n as En,p as Fe,f as we,w as z,g as Mn,t as $n,s as jn,h as Le,i as le,j as te,k as Ve,l as ze,v as _n,m as $e,q as Se,x as rt,y as gn,z as pn,A as it,P as yn,B as ot,C as ut,D as Un,E as st,F as dt,G as Tn,H as je,I as Nn,J as ln,K as Ue,L as oe,M as rn,N as Ge,O as Rn,Q as on,R as Ie,S as ct,T as ft,U as qe,V as vt,W as ht,X as un,Y as xn,Z as mt,$ as bn,a0 as Vn,a1 as _t,a2 as gt}from"./index-a1e74484.js";const pt={},yt={class:"card card-primary"},bt={class:"card-header"},Vt={class:"card-title"},St={class:"card-tools"},Ot={class:"badge badge-primary"},Ft={class:"card-body"},wt={class:"card-footer"};function At(e,n){return x(),q("div",yt,[F("div",bt,[F("h3",Vt,[be(e.$slots,"title",{},void 0,!0)]),F("div",St,[F("span",Ot,[be(e.$slots,"label",{},void 0,!0)])])]),F("div",Ft,[be(e.$slots,"body",{},void 0,!0)]),F("div",wt,[be(e.$slots,"footer",{},void 0,!0)])])}const Pn=re(pt,[["render",At],["__scopeId","data-v-f69a15ee"]]),Bt="/KinoCmsAdminLTE/assets/loading-9f0ae08f.gif";const kt=e=>(Fe("data-v-dfd122b9"),e=e(),we(),e),Ct=["disabled"],It={key:0,class:"button__text"},Et={key:1,class:"button__loading"},Mt=kt(()=>F("img",{src:Bt,alt:""},null,-1)),$t=[Mt],jt={__name:"CastomButton",props:{disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},setup(e){const n=e,t=N(()=>n.loading?!0:n.disabled);let a;const r=$(null);function l(){a=getComputedStyle(r.value).width}const i=N(()=>n.loading?"wait":n.disabled?"no-drop":"pointer");return ye(()=>{l()}),(u,f)=>(x(),q("button",{class:"button",disabled:c(t),ref_key:"button",ref:r,style:En({width:c(a),cursor:c(i)})},[n.loading?(x(),q("div",Et,$t)):(x(),q("div",It,[be(u.$slots,"default",{},void 0,!0)]))],12,Ct))}},Qe=re(jt,[["__scopeId","data-v-dfd122b9"]]);const Ut=e=>(Fe("data-v-9bcbb239"),e=e(),we(),e),Tt={class:"file-upload"},Nt=["multiple"],Rt=Ut(()=>F("span",null,"Додати файл",-1)),xt={__name:"FileUpload",props:{multiple:Boolean},emits:["uploadedFiles"],setup(e,{emit:n}){const t=e,a=$(null),r=async()=>{n("uploadedFiles",a.value.files)};return(l,i)=>(x(),q("div",Tt,[F("label",null,[F("input",{class:"input-file",ref_key:"file",ref:a,onChange:i[0]||(i[0]=u=>r()),type:"file",multiple:t.multiple},null,40,Nt),Rt])]))}},Dn=re(xt,[["__scopeId","data-v-9bcbb239"]]);const We=e=>(Fe("data-v-dd056043"),e=e(),we(),e),Pt={class:"through-banner"},Dt={class:"through-banner__main-block"},Lt={class:"through-banner__checkbox-section"},zt={class:"through-banner__checkbox-box"},Gt=We(()=>F("label",{class:"through-banner__checkbox-lebel",for:"img"},"Фото на фон",-1)),qt={class:"through-banner__checkbox-box"},Kt=We(()=>F("label",{class:"through-banner__checkbox-lebel",for:"color"},"Колір на фон",-1)),Wt={class:"through-banner__adding-section"},Ht={key:0,class:"through-banner__photo-box"},Xt={key:0,class:"through-banner__img-box"},Yt={class:"through-banner__img"},Zt=["src"],Jt={key:1,class:"through-banner__selected-color-box"},Qt={class:"through-banner__color-box"},ea=We(()=>F("label",{for:"colorWell"},"Color:",-1)),na=We(()=>F("span",null,"Зберегти",-1)),ta={__name:"ThroughBanner",props:{name:{type:String,required:!0}},emits:["goingLoading"],setup(e,{emit:n}){const t=e,a=$(!1);z(a,y=>{console.log(y),n("goingLoading",y)});const r=Mn();ye(()=>{j()});function l(){u.value=null,f.value=null}const i=$(""),u=$(null),f=$(null),d=$(null),g=$({}),V=N(()=>Object.keys(g.value).length>0||f.value?!1:!G.value),S=$({});let w;async function j(){try{w=await $n(jn(Le,t.name)),w.empty||w.forEach(y=>{S.value=y.data(),y.data().downloadUrl&&(u.value=y.data().downloadUrl),y.data().whichBanner&&(i.value=y.data().whichBanner),y.data().selectingColor&&(d.value=y.data().selectingColor)})}catch(y){console.log(y)}}const G=$(null);z(u,(y,I)=>{y==null&&y!=I&&(G.value=!0)}),z(i,y=>{S.value.whichBanner!=y?g.value.whichBanner=y:g.value.whichBanner&&S.value.whichBanner==y&&delete g.value.whichBanner}),z(d,y=>{S.value.selectingColor!=y?g.value.selectingColor=y:g.value.selectingColor&&S.value.selectingColor==y&&delete g.value.selectingColor});function W(y){for(const I of y)u.value=URL.createObjectURL(I),f.value=I}async function E(){try{new Promise((y,I)=>{a.value=!0,f.value==null&&G.value?gn(S.value.fullPath).then(()=>{const B=pn(Le,t.name,"main");it(B,{fullPath:yn(),downloadUrl:yn()})}).then(()=>{delete S.value.fullPath,delete S.value.downloadUrl,console.log(S.value),G.value=null,y()}).catch(B=>{console.log(B),I()}):f.value?ot(f.value,"banners/"+t.name+"/").then(B=>(S.value.fullPath&&gn(S.value.fullPath),B),B=>console.log(B)).then(B=>{g.value.downloadUrl=B.downloadUrl,g.value.fullPath=B.metadata.fullPath,y()},B=>console.log(B)).catch(B=>{console.log(B),I()}):(y(),I())}).then(()=>{Object.keys(g.value).length&&(ut(pn(Le,t.name,"main"),g.value,{merge:!0}),f.value=null,Object.keys(g.value).forEach(y=>{S.value[y]=g.value[y],delete g.value[y]})),a.value=!1,r.addMessage("Наскрізний банер на задньому фоні",!1)})}catch(y){a.value=!1,r.addMessage(t.name,!0),console.log("Наскрізний банер на задньому фоні"+y)}}return(y,I)=>(x(),q("div",Pt,[le(Pn,null,{title:te(()=>[Ve(" Наскрізний банер на задньому фоні ")]),label:te(()=>[]),body:te(()=>[F("div",Dt,[F("div",Lt,[F("div",zt,[ze(F("input",{class:"through-banner__checkbox-input",type:"radio",id:"img",name:"through-banner",value:"img","onUpdate:modelValue":I[0]||(I[0]=B=>i.value=B)},null,512),[[_n,i.value]]),Gt]),F("div",qt,[ze(F("input",{class:"through-banner__checkbox-input",type:"radio",id:"color",name:"through-banner",value:"color","onUpdate:modelValue":I[1]||(I[1]=B=>i.value=B)},null,512),[[_n,i.value]]),Kt])]),F("div",Wt,[i.value=="img"?(x(),q("div",Ht,[u.value?(x(),q("div",Xt,[F("div",Yt,[F("img",{src:u.value},null,8,Zt)])])):$e("",!0),le(Dn,{class:"through-banner__upload",multiple:!1,onUploadedFiles:W}),u.value?(x(),Se(Qe,{key:1,class:"through-banner__del-photo-btn",onClick:l},{default:te(()=>[Ve(" Видалити ")]),_:1})):$e("",!0)])):(x(),q("div",Jt,[F("div",Qt,[ea,ze(F("input",{type:"color","onUpdate:modelValue":I[2]||(I[2]=B=>d.value=B)},null,512),[[rt,d.value]])])]))])])]),footer:te(()=>[le(Qe,{class:"through-banner__saving-button",onClick:E,disabled:c(V),loading:a.value},{default:te(()=>[na]),_:1},8,["disabled","loading"])]),_:1})]))}},aa=re(ta,[["__scopeId","data-v-dd056043"]]);const la={},ra=e=>(Fe("data-v-858d4ee2"),e=e(),we(),e),ia={class:"modal"},oa=ra(()=>F("div",{class:"modal__box"},[F("h1",null,[Ve("ЗАЧЕКАЙТЕ, "),F("br"),Ve("ІДЕ ЗАВАНТАЖЕННЯ")])],-1)),ua=[oa];function sa(e,n){return x(),q("div",ia,ua)}const da=re(la,[["render",sa],["__scopeId","data-v-858d4ee2"]]);const ca=["aria-checked","onKeydown"],fa={__name:"ToggleCheckbox",props:{value:Boolean},emits:["inputValue"],setup(e,{emit:n}){const t=e,a=N(()=>({"gold-mid":t.value,"gray-lighter":!t.value})),r=N(()=>({transform:t.value?"translateX(14px)":"translateX(0)"}));function l(){n("inputValue",!t.value)}return(i,u)=>(x(),q("div",null,[F("span",{class:"toggle-wrapper",role:"checkbox","aria-checked":e.value.toString(),tabindex:"0",onClick:l,onKeydown:st(dt(l,["prevent"]),["space"])},[F("span",{class:Un(["toggle-background",c(a)])},null,2),F("span",{class:"toggle-indicator",style:En(c(r))},null,4)],40,ca)]))}},va=re(fa,[["__scopeId","data-v-259868c8"]]);/**
  * vee-validate v4.8.6
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function de(e){return typeof e=="function"}function Ee(e){return e==null}const pe=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function Ln(e){return Number(e)>=0}function ha(e){const n=parseFloat(e);return isNaN(n)?e:n}const ma={};function _a(e){return ma[e]}const Te=Symbol("vee-validate-form"),ga=Symbol("vee-validate-field-instance"),Ke=Symbol("Default empty value"),pa=typeof window<"u";function en(e){return de(e)&&!!e.__locatorRef}function ve(e){return!!e&&de(e.parse)&&e.__type==="VVTypedSchema"}function Me(e){return!!e&&de(e.validate)}function Oe(e){return e==="checkbox"||e==="radio"}function ya(e){return pe(e)||Array.isArray(e)}function zn(e){return Array.isArray(e)?e.length===0:pe(e)&&Object.keys(e).length===0}function He(e){return/^\[.+\]$/i.test(e)}function ba(e){return Gn(e)&&e.multiple}function Gn(e){return e.tagName==="SELECT"}function Va(e,n){const t=![!1,null,void 0,0].includes(n.multiple)&&!Number.isNaN(n.multiple);return e==="select"&&"multiple"in n&&t}function Sa(e,n){return!Va(e,n)&&n.type!=="file"&&!Oe(n.type)}function qn(e){return sn(e)&&e.target&&"submit"in e.target}function sn(e){return e?!!(typeof Event<"u"&&de(Event)&&e instanceof Event||e&&e.srcElement):!1}function Sn(e,n){return n in e&&e[n]!==Ke}function K(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var t,a,r;if(Array.isArray(e)){if(t=e.length,t!=n.length)return!1;for(a=t;a--!==0;)if(!K(e[a],n[a]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(a of e.entries())if(!n.has(a[0]))return!1;for(a of e.entries())if(!K(a[1],n.get(a[0])))return!1;return!0}if(On(e)&&On(n))return!(e.size!==n.size||e.name!==n.name||e.lastModified!==n.lastModified||e.type!==n.type);if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(a of e.entries())if(!n.has(a[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(t=e.length,t!=n.length)return!1;for(a=t;a--!==0;)if(e[a]!==n[a])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(r=Object.keys(e),t=r.length,t!==Object.keys(n).length)return!1;for(a=t;a--!==0;)if(!Object.prototype.hasOwnProperty.call(n,r[a]))return!1;for(a=t;a--!==0;){var l=r[a];if(!K(e[l],n[l]))return!1}return!0}return e!==e&&n!==n}function On(e){return pa?e instanceof File:!1}function Fn(e,n,t){typeof t.value=="object"&&(t.value=T(t.value)),!t.enumerable||t.get||t.set||!t.configurable||!t.writable||n==="__proto__"?Object.defineProperty(e,n,t):e[n]=t.value}function T(e){if(typeof e!="object")return e;var n=0,t,a,r,l=Object.prototype.toString.call(e);if(l==="[object Object]"?r=Object.create(e.__proto__||null):l==="[object Array]"?r=Array(e.length):l==="[object Set]"?(r=new Set,e.forEach(function(i){r.add(T(i))})):l==="[object Map]"?(r=new Map,e.forEach(function(i,u){r.set(T(u),T(i))})):l==="[object Date]"?r=new Date(+e):l==="[object RegExp]"?r=new RegExp(e.source,e.flags):l==="[object DataView]"?r=new e.constructor(T(e.buffer)):l==="[object ArrayBuffer]"?r=e.slice(0):l.slice(-6)==="Array]"&&(r=new e.constructor(e)),r){for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)Fn(r,a[n],Object.getOwnPropertyDescriptor(e,a[n]));for(n=0,a=Object.getOwnPropertyNames(e);n<a.length;n++)Object.hasOwnProperty.call(r,t=a[n])&&r[t]===e[t]||Fn(r,t,Object.getOwnPropertyDescriptor(e,t))}return r||e}function dn(e){return He(e)?e.replace(/\[|\]/gi,""):e}function L(e,n,t){return e?He(n)?e[dn(n)]:(n||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((r,l)=>ya(r)&&l in r?r[l]:t,e):t}function fe(e,n,t){if(He(n)){e[dn(n)]=t;return}const a=n.split(/\.|\[(\d+)\]/).filter(Boolean);let r=e;for(let l=0;l<a.length;l++){if(l===a.length-1){r[a[l]]=t;return}(!(a[l]in r)||Ee(r[a[l]]))&&(r[a[l]]=Ln(a[l+1])?[]:{}),r=r[a[l]]}}function Ze(e,n){if(Array.isArray(e)&&Ln(n)){e.splice(Number(n),1);return}pe(e)&&delete e[n]}function De(e,n){if(He(n)){delete e[dn(n)];return}const t=n.split(/\.|\[(\d+)\]/).filter(Boolean);let a=e;for(let l=0;l<t.length;l++){if(l===t.length-1){Ze(a,t[l]);break}if(!(t[l]in a)||Ee(a[t[l]]))break;a=a[t[l]]}const r=t.map((l,i)=>L(e,t.slice(0,i).join(".")));for(let l=r.length-1;l>=0;l--)if(zn(r[l])){if(l===0){Ze(e,t[0]);continue}Ze(r[l-1],t[l-1])}}function Y(e){return Object.keys(e)}function cn(e,n=void 0){const t=ln();return(t==null?void 0:t.provides[e])||Rn(e,n)}function nn(e,n,t){if(Array.isArray(e)){const a=[...e],r=a.findIndex(l=>K(l,n));return r>=0?a.splice(r,1):a.push(n),a}return K(e,n)?t:n}function wn(e,n=0){let t=null,a=[];return function(...r){return t&&window.clearTimeout(t),t=window.setTimeout(()=>{const l=e(...r);a.forEach(i=>i(l)),a=[]},n),new Promise(l=>a.push(l))}}function Oa(e,n){return pe(n)&&n.number?ha(e):e}function tn(e,n){let t;return async function(...r){const l=e(...r);t=l;const i=await l;return l!==t||(t=void 0,n(i,r)),i}}function Fa({get:e,set:n}){const t=$(T(e()));return z(e,a=>{K(a,t.value)||(t.value=T(a))},{deep:!0}),z(t,a=>{K(a,e())||n(T(a))},{deep:!0}),t}function wa(e){return de(e)?e():c(e)}function Aa(e){return N(()=>wa(e))}const Xe=(e,n,t)=>n.slots.default?typeof e=="string"||!e?n.slots.default(t()):{default:()=>{var a,r;return(r=(a=n.slots).default)===null||r===void 0?void 0:r.call(a,t())}}:n.slots.default;function Je(e){if(Kn(e))return e._value}function Kn(e){return"_value"in e}function fn(e){if(!sn(e))return e;const n=e.target;if(Oe(n.type)&&Kn(n))return Je(n);if(n.type==="file"&&n.files){const t=Array.from(n.files);return n.multiple?t:t[0]}if(ba(n))return Array.from(n.options).filter(t=>t.selected&&!t.disabled).map(Je);if(Gn(n)){const t=Array.from(n.options).find(a=>a.selected);return t?Je(t):n.value}return n.value}function Wn(e){const n={};return Object.defineProperty(n,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?pe(e)&&e._$$isNormalized?e:pe(e)?Object.keys(e).reduce((t,a)=>{const r=Ba(e[a]);return e[a]!==!1&&(t[a]=An(r)),t},n):typeof e!="string"?n:e.split("|").reduce((t,a)=>{const r=ka(a);return r.name&&(t[r.name]=An(r.params)),t},n):n}function Ba(e){return e===!0?[]:Array.isArray(e)||pe(e)?e:[e]}function An(e){const n=t=>typeof t=="string"&&t[0]==="@"?Ca(t.slice(1)):t;return Array.isArray(e)?e.map(n):e instanceof RegExp?[e]:Object.keys(e).reduce((t,a)=>(t[a]=n(e[a]),t),{})}const ka=e=>{let n=[];const t=e.split(":")[0];return e.includes(":")&&(n=e.split(":").slice(1).join(":").split(",")),{name:t,params:n}};function Ca(e){const n=t=>L(t,e)||t[e];return n.__locatorRef=e,n}function Ia(e){return Array.isArray(e)?e.filter(en):Y(e).filter(n=>en(e[n])).map(n=>e[n])}const Ea={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let Ma=Object.assign({},Ea);const vn=()=>Ma;async function Hn(e,n,t={}){const a=t==null?void 0:t.bails,r={name:(t==null?void 0:t.name)||"{field}",rules:n,label:t==null?void 0:t.label,bails:a??!0,formData:(t==null?void 0:t.values)||{}},i=(await $a(r,e)).errors;return{errors:i,valid:!i.length}}async function $a(e,n){if(ve(e.rules)||Me(e.rules))return Ua(n,e.rules);if(de(e.rules)||Array.isArray(e.rules)){const i={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:n},u=Array.isArray(e.rules)?e.rules:[e.rules],f=u.length,d=[];for(let g=0;g<f;g++){const V=u[g],S=await V(n,i);if(typeof S!="string"&&S)continue;const j=typeof S=="string"?S:Yn(i);if(d.push(j),e.bails)return{errors:d}}return{errors:d}}const t=Object.assign(Object.assign({},e),{rules:Wn(e.rules)}),a=[],r=Object.keys(t.rules),l=r.length;for(let i=0;i<l;i++){const u=r[i],f=await Ta(t,n,{name:u,params:t.rules[u]});if(f.error&&(a.push(f.error),e.bails))return{errors:a}}return{errors:a}}function ja(e){return!!e&&e.name==="ValidationError"}function Xn(e){return{__type:"VVTypedSchema",async parse(t){var a;try{return{output:await e.validate(t,{abortEarly:!1}),errors:[]}}catch(r){if(!ja(r))throw r;if(!(!((a=r.inner)===null||a===void 0)&&a.length)&&r.errors.length)return{errors:[{path:r.path,errors:r.errors}]};const l=r.inner.reduce((i,u)=>{const f=u.path||"";return i[f]||(i[f]={errors:[],path:f}),i[f].errors.push(...u.errors),i},{});return{errors:Object.values(l)}}}}}async function Ua(e,n){const a=await(ve(n)?n:Xn(n)).parse(e),r=[];for(const l of a.errors)l.errors.length&&r.push(...l.errors);return{errors:r}}async function Ta(e,n,t){const a=_a(t.name);if(!a)throw new Error(`No such validator '${t.name}' exists.`);const r=Na(t.params,e.formData),l={field:e.label||e.name,name:e.name,label:e.label,value:n,form:e.formData,rule:Object.assign(Object.assign({},t),{params:r})},i=await a(n,r,l);return typeof i=="string"?{error:i}:{error:i?void 0:Yn(l)}}function Yn(e){const n=vn().generateMessage;return n?n(e):"Field is invalid"}function Na(e,n){const t=a=>en(a)?a(n):a;return Array.isArray(e)?e.map(t):Object.keys(e).reduce((a,r)=>(a[r]=t(e[r]),a),{})}async function Ra(e,n){const a=await(ve(e)?e:Xn(e)).parse(n),r={},l={};for(const i of a.errors){const u=i.errors,f=(i.path||"").replace(/\["(\d+)"\]/g,(d,g)=>`[${g}]`);r[f]={valid:!u.length,errors:u},u.length&&(l[f]=u[0])}return{valid:!a.errors.length,results:r,errors:l,values:a.value}}async function xa(e,n,t){const r=Y(e).map(async d=>{var g,V,S;const w=(g=t==null?void 0:t.names)===null||g===void 0?void 0:g[d],j=await Hn(L(n,d),e[d],{name:(w==null?void 0:w.name)||d,label:w==null?void 0:w.label,values:n,bails:(S=(V=t==null?void 0:t.bailsMap)===null||V===void 0?void 0:V[d])!==null&&S!==void 0?S:!0});return Object.assign(Object.assign({},j),{path:d})});let l=!0;const i=await Promise.all(r),u={},f={};for(const d of i)u[d.path]={valid:d.valid,errors:d.errors},d.valid||(l=!1,f[d.path]=d.errors[0]);return{valid:l,results:u,errors:f}}let Bn=0;function Pa(e,n){const{value:t,initialValue:a,setInitialValue:r}=Zn(e,n.modelValue,n.form),{errorMessage:l,errors:i,setErrors:u}=za(e,n.form),f=La(t,a,i),d=Bn>=Number.MAX_SAFE_INTEGER?0:++Bn;function g(V){var S;"value"in V&&(t.value=V.value),"errors"in V&&u(V.errors),"touched"in V&&(f.touched=(S=V.touched)!==null&&S!==void 0?S:f.touched),"initialValue"in V&&r(V.initialValue)}return{id:d,path:e,value:t,initialValue:a,meta:f,errors:i,errorMessage:l,setState:g}}function Zn(e,n,t){const a=$(c(n));function r(){return t?L(t.meta.value.initialValues,c(e),c(a)):c(a)}function l(d){if(!t){a.value=d;return}t.stageInitialValue(c(e),d,!0)}const i=N(r);if(!t)return{value:$(r()),initialValue:i,setInitialValue:l};const u=Da(n,t,i,e);return t.stageInitialValue(c(e),u,!0),{value:N({get(){return L(t.values,c(e))},set(d){t.setFieldValue(c(e),d)}}),initialValue:i,setInitialValue:l}}function Da(e,n,t,a){return je(e)?c(e):e!==void 0?e:L(n.values,c(a),c(t))}function La(e,n,t){const a=on({touched:!1,pending:!1,valid:!0,validated:!!c(t).length,initialValue:N(()=>c(n)),dirty:N(()=>!K(c(e),c(n)))});return z(t,r=>{a.valid=!r.length},{immediate:!0,flush:"sync"}),a}function za(e,n){function t(r){return r?Array.isArray(r)?r:[r]:[]}if(!n){const r=$([]);return{errors:r,errorMessage:N(()=>r.value[0]),setErrors:l=>{r.value=t(l)}}}const a=N(()=>n.errorBag.value[c(e)]||[]);return{errors:a,errorMessage:N(()=>a.value[0]),setErrors:r=>{n.setFieldErrorBag(c(e),t(r))}}}function Jn(e,n,t){return Oe(t==null?void 0:t.type)?Ka(e,n,t):Qn(e,n,t)}function Qn(e,n,t){const{initialValue:a,validateOnMount:r,bails:l,type:i,checkedValue:u,label:f,validateOnValueUpdate:d,uncheckedValue:g,controlled:V,keepValueOnUnmount:S,modelPropName:w,syncVModel:j,form:G}=Ga(t),W=V?cn(Te):void 0,E=G||W,y=Aa(e);let I=!1;const{id:B,value:m,initialValue:b,meta:v,setState:h,errors:p,errorMessage:A}=Pa(y,{modelValue:a,form:E});j&&Wa({value:m,prop:w,handleChange:D});const J=()=>{v.touched=!0},Q=N(()=>{let _=c(n);const R=c(E==null?void 0:E.schema);return R&&!Me(R)&&!ve(R)&&(_=qa(R,c(y))||_),Me(_)||ve(_)||de(_)||Array.isArray(_)?_:Wn(_)});async function ie(_){var R,Z;return E!=null&&E.validateSchema?(R=(await E.validateSchema(_)).results[c(y)])!==null&&R!==void 0?R:{valid:!0,errors:[]}:Hn(m.value,Q.value,{name:c(y),label:c(f),values:(Z=E==null?void 0:E.values)!==null&&Z!==void 0?Z:{},bails:l})}const ne=tn(async()=>(v.pending=!0,v.validated=!0,ie("validated-only")),_=>(I&&(_.valid=!0,_.errors=[]),h({errors:_.errors}),v.pending=!1,_)),H=tn(async()=>ie("silent"),_=>(I&&(_.valid=!0),v.valid=_.valid,_));function P(_){return(_==null?void 0:_.mode)==="silent"?H():ne()}function D(_,R=!0){const Z=fn(_);m.value=Z,!d&&R&&ne()}ye(()=>{if(r)return ne();(!E||!E.validateSchema)&&H()});function ae(_){v.touched=_}let ue,ce=T(m.value);function he(){ue=z(m,(_,R)=>{if(K(_,R)&&K(_,ce))return;(d?ne:H)(),ce=T(_)},{deep:!0})}he();function me(_){var R;ue==null||ue();const Z=_&&"value"in _?_.value:b.value;h({value:T(Z),initialValue:T(Z),touched:(R=_==null?void 0:_.touched)!==null&&R!==void 0?R:!1,errors:(_==null?void 0:_.errors)||[]}),v.pending=!1,v.validated=!1,H(),Ie(()=>{he()})}function Ae(_){m.value=_}function Ne(_){h({errors:Array.isArray(_)?_:[_]})}const _e={id:B,name:y,label:f,value:m,meta:v,errors:p,errorMessage:A,type:i,checkedValue:u,uncheckedValue:g,bails:l,keepValueOnUnmount:S,resetField:me,handleReset:()=>me(),validate:P,handleChange:D,handleBlur:J,setState:h,setTouched:ae,setErrors:Ne,setValue:Ae};if(Tn(ga,_e),je(n)&&typeof c(n)!="function"&&z(n,(_,R)=>{K(_,R)||(v.validated?ne():H())},{deep:!0}),!E)return _e;E.register(_e),Nn(()=>{I=!0,E.unregister(_e)});const Be=N(()=>{const _=Q.value;return!_||de(_)||Me(_)||ve(_)||Array.isArray(_)?{}:Object.keys(_).reduce((R,Z)=>{const Re=Ia(_[Z]).map(ge=>ge.__locatorRef).reduce((ge,ke)=>{const xe=L(E.values,ke)||E.values[ke];return xe!==void 0&&(ge[ke]=xe),ge},{});return Object.assign(R,Re),R},{})});return z(Be,(_,R)=>{if(!Object.keys(_).length)return;!K(_,R)&&(v.validated?ne():H())}),_e}function Ga(e){var n;const t=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,modelPropName:"modelValue",syncVModel:!0,controlled:!0}),r=((n=e==null?void 0:e.syncVModel)!==null&&n!==void 0?n:!0)&&!("initialValue"in(e||{}))?an(ln(),(e==null?void 0:e.modelPropName)||"modelValue"):e==null?void 0:e.initialValue;if(!e)return Object.assign(Object.assign({},t()),{initialValue:r});const l="valueProp"in e?e.valueProp:e.checkedValue,i="standalone"in e?!e.standalone:e.controlled;return Object.assign(Object.assign(Object.assign({},t()),e||{}),{initialValue:r,controlled:i??!0,checkedValue:l})}function qa(e,n){if(e)return e[n]}function Ka(e,n,t){const a=t!=null&&t.standalone?void 0:cn(Te),r=t==null?void 0:t.checkedValue,l=t==null?void 0:t.uncheckedValue;function i(u){const f=u.handleChange,d=N(()=>{const V=c(u.value),S=c(r);return Array.isArray(V)?V.findIndex(w=>K(w,S))>=0:K(S,V)});function g(V,S=!0){var w;if(d.value===((w=V==null?void 0:V.target)===null||w===void 0?void 0:w.checked)){S&&u.validate();return}let j=fn(V);a||(j=nn(c(u.value),c(r),c(l))),f(j,S)}return Object.assign(Object.assign({},u),{checked:d,checkedValue:r,uncheckedValue:l,handleChange:g})}return i(Qn(e,n,t))}function Wa({prop:e,value:n,handleChange:t}){const a=ln();if(!a)return;const r=e||"modelValue",l=`update:${r}`;r in a.props&&(z(n,i=>{K(i,an(a,r))||a.emit(l,i)}),z(()=>an(a,r),i=>{if(i===Ke&&n.value===void 0)return;const u=i===Ke?void 0:i;K(u,Oa(n.value,a.props.modelModifiers))||t(u)}))}function an(e,n){if(e)return e.props[n]}Ue({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>vn().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:Ke},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,n){const t=oe(e,"rules"),a=oe(e,"name"),r=oe(e,"label"),l=oe(e,"uncheckedValue"),i=oe(e,"keepValue"),{errors:u,value:f,errorMessage:d,validate:g,handleChange:V,handleBlur:S,setTouched:w,resetField:j,handleReset:G,meta:W,checked:E,setErrors:y}=Jn(a,t,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:n.attrs.type,initialValue:Xa(e,n),checkedValue:n.attrs.value,uncheckedValue:l,label:r,validateOnValueUpdate:!1,keepValueOnUnmount:i}),I=function(p,A=!0){V(p,A),n.emit("update:modelValue",f.value)},B=h=>{Oe(n.attrs.type)||(f.value=fn(h))},m=function(p){B(p),n.emit("update:modelValue",f.value)},b=N(()=>{const{validateOnInput:h,validateOnChange:p,validateOnBlur:A,validateOnModelUpdate:J}=Ha(e),Q=[S,n.attrs.onBlur,A?g:void 0].filter(Boolean),ie=[D=>I(D,h),n.attrs.onInput].filter(Boolean),ne=[D=>I(D,p),n.attrs.onChange].filter(Boolean),H={name:e.name,onBlur:Q,onInput:ie,onChange:ne};H["onUpdate:modelValue"]=D=>I(D,J),Oe(n.attrs.type)&&E&&(H.checked=E.value);const P=kn(e,n);return Sa(P,n.attrs)&&(H.value=f.value),H});function v(){return{field:b.value,value:f.value,meta:W,errors:u.value,errorMessage:d.value,validate:g,resetField:j,handleChange:I,handleInput:m,handleReset:G,handleBlur:S,setTouched:w,setErrors:y}}return n.expose({setErrors:y,setTouched:w,reset:j,validate:g,handleChange:V}),()=>{const h=rn(kn(e,n)),p=Xe(h,n,v);return h?Ge(h,Object.assign(Object.assign({},n.attrs),b.value),p):p}}});function kn(e,n){let t=e.as||"";return!e.as&&!n.slots.default&&(t="input"),t}function Ha(e){var n,t,a,r;const{validateOnInput:l,validateOnChange:i,validateOnBlur:u,validateOnModelUpdate:f}=vn();return{validateOnInput:(n=e.validateOnInput)!==null&&n!==void 0?n:l,validateOnChange:(t=e.validateOnChange)!==null&&t!==void 0?t:i,validateOnBlur:(a=e.validateOnBlur)!==null&&a!==void 0?a:u,validateOnModelUpdate:(r=e.validateOnModelUpdate)!==null&&r!==void 0?r:f}}function Xa(e,n){return Oe(n.attrs.type)?Sn(e,"modelValue")?e.modelValue:void 0:Sn(e,"modelValue")?e.modelValue:n.attrs.value}let Ya=0;function et(e){const n=c(e==null?void 0:e.initialValues)||{},t=c(e==null?void 0:e.validationSchema);return t&&ve(t)&&de(t.cast)?T(t.cast(n)||{}):T(n)}function Za(e){var n;const t=Ya++,a=new Set;let r=!1;const l=$({}),i=$(!1),u=$(0),f=[],d=on(et(e)),{errorBag:g,setErrorBag:V,setFieldErrorBag:S}=el(e==null?void 0:e.initialErrors),w=N(()=>Y(g.value).reduce((o,s)=>{const O=g.value[s];return O&&O.length&&(o[s]=O[0]),o},{}));function j(o){const s=l.value[o];return Array.isArray(s)?s[0]:s}function G(o){return!!l.value[o]}const W=N(()=>Y(l.value).reduce((o,s)=>{const O=j(s);return O&&(o[s]={name:c(O.name)||"",label:c(O.label)||""}),o},{})),E=N(()=>Y(l.value).reduce((o,s)=>{var O;const k=j(s);return k&&(o[s]=(O=k.bails)!==null&&O!==void 0?O:!0),o},{})),y=Object.assign({},(e==null?void 0:e.initialErrors)||{}),I=(n=e==null?void 0:e.keepValuesOnUnmount)!==null&&n!==void 0?n:!1,{initialValues:B,originalInitialValues:m,setInitialValues:b}=Qa(l,d,e),v=Ja(l,d,m,w),h=N(()=>[...a,...Y(l.value)].reduce((o,s)=>{const O=L(d,s);return fe(o,s,O),o},{})),p=e==null?void 0:e.validationSchema,A=wn(mn,5),J=wn(mn,5),Q=tn(async o=>await o==="silent"?A():J(),(o,[s])=>{const O=P.fieldsByPath.value||{},k=Y(P.errorBag.value);return[...new Set([...Y(o.results),...Y(O),...k])].reduce((C,M)=>{const X=O[M],se=(o.results[M]||{errors:[]}).errors,ee={errors:se,valid:!se.length};if(C.results[M]=ee,ee.valid||(C.errors[M]=ee.errors[0]),!X)return ce(M,se),C;if(ae(X,Ce=>Ce.meta.valid=ee.valid),s==="silent")return C;const lt=Array.isArray(X)?X.some(Ce=>Ce.meta.validated):X.meta.validated;return s==="validated-only"&&!lt||ae(X,Ce=>Ce.setState({errors:ee.errors})),C},{valid:o.valid,results:{},errors:{}})});function ie(o){return function(O,k){return function(C){return C instanceof Event&&(C.preventDefault(),C.stopPropagation()),_(Y(l.value).reduce((M,X)=>(M[X]=!0,M),{})),i.value=!0,u.value++,Pe().then(M=>{const X=T(d);if(M.valid&&typeof O=="function"){const se=T(h.value);let ee=o?se:X;return M.values&&(ee=M.values),O(ee,{evt:C,controlledValues:se,setErrors:he,setFieldError:ce,setTouched:_,setFieldTouched:Be,setValues:Ae,setFieldValue:me,resetForm:Z,resetField:R})}!M.valid&&typeof k=="function"&&k({values:X,evt:C,errors:M.errors,results:M.results})}).then(M=>(i.value=!1,M),M=>{throw i.value=!1,M})}}}const H=ie(!1);H.withControlled=ie(!0);const P={formId:t,fieldsByPath:l,values:d,controlledValues:h,errorBag:g,errors:w,schema:p,submitCount:u,meta:v,isSubmitting:i,fieldArrays:f,keepValuesOnUnmount:I,validateSchema:c(p)?Q:void 0,validate:Pe,register:ke,unregister:xe,setFieldErrorBag:S,validateField:Ye,setFieldValue:me,setValues:Ae,setErrors:he,setFieldError:ce,setFieldTouched:Be,setTouched:_,resetForm:Z,resetField:R,handleSubmit:H,stageInitialValue:tt,unsetInitialValue:nt,setFieldInitialValue:hn,useFieldModel:_e};function D(o){return Array.isArray(o)}function ae(o,s){return Array.isArray(o)?o.forEach(s):s(o)}function ue(o){Object.values(l.value).forEach(s=>{s&&ae(s,o)})}function ce(o,s){S(o,s)}function he(o){V(o)}function me(o,s,{force:O}={force:!1}){var k;const U=l.value[o],C=T(s);if(!U){fe(d,o,C);return}if(D(U)&&((k=U[0])===null||k===void 0?void 0:k.type)==="checkbox"&&!Array.isArray(s)){const X=T(nn(L(d,o)||[],s,void 0));fe(d,o,X);return}let M=C;!D(U)&&U.type==="checkbox"&&!O&&!r&&(M=T(nn(L(d,o),s,c(U.uncheckedValue)))),fe(d,o,M)}function Ae(o){Y(d).forEach(s=>{delete d[s]}),Y(o).forEach(s=>{me(s,o[s])}),f.forEach(s=>s&&s.reset())}function Ne(o){const{value:s}=Zn(o,void 0,P);return z(s,()=>{G(c(o))||Pe({mode:"validated-only"})},{deep:!0}),a.add(c(o)),s}function _e(o){return Array.isArray(o)?o.map(Ne):Ne(o)}function Be(o,s){const O=l.value[o];O&&ae(O,k=>k.setTouched(s))}function _(o){Y(o).forEach(s=>{Be(s,!!o[s])})}function R(o,s){const O=l.value[o];O&&ae(O,k=>k.resetField(s))}function Z(o){r=!0,ue(O=>O.resetField());const s=o!=null&&o.values?o.values:m.value;b(s),Ae(s),o!=null&&o.touched&&_(o.touched),he((o==null?void 0:o.errors)||{}),u.value=(o==null?void 0:o.submitCount)||0,Ie(()=>{r=!1})}function Re(o,s){const O=ft(o),k=s;if(!l.value[k]){l.value[k]=O;return}const U=l.value[k];U&&!Array.isArray(U)&&(l.value[k]=[U]),l.value[k]=[...l.value[k],O]}function ge(o,s){const O=s,k=l.value[O];if(k){if(!D(k)&&o.id===k.id){delete l.value[O];return}if(D(k)){const U=k.findIndex(C=>C.id===o.id);if(U===-1)return;k.splice(U,1),k.length||delete l.value[O]}}}function ke(o){const s=c(o.name);Re(o,s),je(o.name)&&z(o.name,async(k,U)=>{await Ie(),ge(o,U),Re(o,k),(w.value[U]||w.value[k])&&(ce(U,void 0),Ye(k)),await Ie(),G(U)||De(d,U)});const O=c(o.errorMessage);O&&(y==null?void 0:y[s])!==O&&Ye(s),delete y[s]}function xe(o){const s=c(o.name),O=l.value[s],k=!!O&&D(O);ge(o,s),Ie(()=>{var U;const C=(U=c(o.keepValueOnUnmount))!==null&&U!==void 0?U:c(I),M=L(d,s);if(k&&(O===l.value[s]||!l.value[s])&&!C)if(Array.isArray(M)){const se=M.findIndex(ee=>K(ee,c(o.checkedValue)));if(se>-1){const ee=[...M];ee.splice(se,1),me(s,ee,{force:!0})}}else M===c(o.checkedValue)&&De(d,s);if(!G(s)){if(ce(s,void 0),C||k&&Array.isArray(M)&&!zn(M))return;De(d,s)}})}async function Pe(o){const s=(o==null?void 0:o.mode)||"force";if(s==="force"&&ue(C=>C.meta.validated=!0),P.validateSchema)return P.validateSchema(s);const O=await Promise.all(Object.values(l.value).map(C=>{const M=Array.isArray(C)?C[0]:C;return M?M.validate(o).then(X=>({key:c(M.name),valid:X.valid,errors:X.errors})):Promise.resolve({key:"",valid:!0,errors:[]})})),k={},U={};for(const C of O)k[C.key]={valid:C.valid,errors:C.errors},C.errors.length&&(U[C.key]=C.errors[0]);return{valid:O.every(C=>C.valid),results:k,errors:U}}async function Ye(o){const s=l.value[o];return s?Array.isArray(s)?s.map(O=>O.validate())[0]:s.validate():Promise.resolve({errors:[],valid:!0})}function nt(o){De(B.value,o)}function tt(o,s,O=!1){fe(d,o,s),hn(o,s),O&&!(e!=null&&e.initialValues)&&fe(m.value,o,T(s))}function hn(o,s){fe(B.value,o,T(s))}async function mn(){const o=c(p);return o?Me(o)||ve(o)?await Ra(o,d):await xa(o,d,{names:W.value,bailsMap:E.value}):{valid:!0,results:{},errors:{}}}const at=H((o,{evt:s})=>{qn(s)&&s.target.submit()});return ye(()=>{if(e!=null&&e.initialErrors&&he(e.initialErrors),e!=null&&e.initialTouched&&_(e.initialTouched),e!=null&&e.validateOnMount){Pe();return}P.validateSchema&&P.validateSchema("silent")}),je(p)&&z(p,()=>{var o;(o=P.validateSchema)===null||o===void 0||o.call(P,"validated-only")}),Tn(Te,P),Object.assign(Object.assign({},P),{handleReset:()=>Z(),submitForm:at})}function Ja(e,n,t,a){const r={touched:"some",pending:"some",valid:"every"},l=N(()=>!K(n,c(t)));function i(){const f=Object.values(e.value).flat(1).filter(Boolean);return Y(r).reduce((d,g)=>{const V=r[g];return d[g]=f[V](S=>S.meta[g]),d},{})}const u=on(i());return ct(()=>{const f=i();u.touched=f.touched,u.valid=f.valid,u.pending=f.pending}),N(()=>Object.assign(Object.assign({initialValues:c(t)},u),{valid:u.valid&&!Y(a.value).length,dirty:l.value}))}function Qa(e,n,t){const a=et(t),r=t==null?void 0:t.initialValues,l=$(a),i=$(T(a));function u(f,d=!1){l.value=T(f),i.value=T(f),d&&Y(e.value).forEach(g=>{const V=e.value[g],S=Array.isArray(V)?V.some(j=>j.meta.touched):V==null?void 0:V.meta.touched;if(!V||S)return;const w=L(l.value,g);fe(n,g,T(w))})}return je(r)&&z(r,f=>{u(f,!0)},{deep:!0}),{initialValues:l,originalInitialValues:i,setInitialValues:u}}function el(e){const n=$({});function t(l){return Array.isArray(l)?l:l?[l]:[]}function a(l,i){if(!i){delete n.value[l];return}n.value[l]=t(i)}function r(l){n.value=Y(l).reduce((i,u)=>{const f=l[u];return f&&(i[u]=t(f)),i},{})}return e&&r(e),{errorBag:n,setErrorBag:r,setFieldErrorBag:a}}Ue({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,n){const t=oe(e,"initialValues"),a=oe(e,"validationSchema"),r=oe(e,"keepValues"),{errors:l,errorBag:i,values:u,meta:f,isSubmitting:d,submitCount:g,controlledValues:V,validate:S,validateField:w,handleReset:j,resetForm:G,handleSubmit:W,setErrors:E,setFieldError:y,setFieldValue:I,setValues:B,setFieldTouched:m,setTouched:b,resetField:v}=Za({validationSchema:a.value?a:void 0,initialValues:t,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:r}),h=W((P,{evt:D})=>{qn(D)&&D.target.submit()},e.onInvalidSubmit),p=e.onSubmit?W(e.onSubmit,e.onInvalidSubmit):h;function A(P){sn(P)&&P.preventDefault(),j(),typeof n.attrs.onReset=="function"&&n.attrs.onReset()}function J(P,D){return W(typeof P=="function"&&!D?P:D,e.onInvalidSubmit)(P)}function Q(){return T(u)}function ie(){return T(f.value)}function ne(){return T(l.value)}function H(){return{meta:f.value,errors:l.value,errorBag:i.value,values:u,isSubmitting:d.value,submitCount:g.value,controlledValues:V.value,validate:S,validateField:w,handleSubmit:J,handleReset:j,submitForm:h,setErrors:E,setFieldError:y,setFieldValue:I,setValues:B,setFieldTouched:m,setTouched:b,resetForm:G,resetField:v,getValues:Q,getMeta:ie,getErrors:ne}}return n.expose({setFieldError:y,setErrors:E,setFieldValue:I,setValues:B,setFieldTouched:m,setTouched:b,resetForm:G,validate:S,validateField:w,resetField:v,getValues:Q,getMeta:ie,getErrors:ne}),function(){const D=e.as==="form"?e.as:rn(e.as),ae=Xe(D,n,H);if(!e.as)return ae;const ue=e.as==="form"?{novalidate:!0}:{};return Ge(D,Object.assign(Object.assign(Object.assign({},ue),n.attrs),{onSubmit:p,onReset:A}),ae)}}});function nl(e){const n=cn(Te,void 0),t=$([]),a=()=>{},r={fields:t,remove:a,push:a,swap:a,insert:a,update:a,replace:a,prepend:a,move:a};if(!n||!c(e))return r;const l=n.fieldArrays.find(m=>c(m.path)===c(e));if(l)return l;let i=0;function u(){return L(n==null?void 0:n.values,c(e),[])||[]}function f(){const m=u();t.value=m.map(g),d()}f();function d(){const m=t.value.length;for(let b=0;b<m;b++){const v=t.value[b];v.isFirst=b===0,v.isLast=b===m-1}}function g(m){const b=i++;return{key:b,value:Fa({get(){const h=L(n==null?void 0:n.values,c(e),[])||[],p=t.value.findIndex(A=>A.key===b);return p===-1?m:h[p]},set(h){const p=t.value.findIndex(A=>A.key===b);p!==-1&&E(p,h)}}),isFirst:!1,isLast:!1}}function V(){d(),n==null||n.validate({mode:"silent"})}function S(m){const b=c(e),v=L(n==null?void 0:n.values,b);if(!v||!Array.isArray(v))return;const h=[...v];h.splice(m,1),n==null||n.unsetInitialValue(b+`[${m}]`),n==null||n.setFieldValue(b,h),t.value.splice(m,1),V()}function w(m){const b=c(e),v=L(n==null?void 0:n.values,b),h=Ee(v)?[]:v;if(!Array.isArray(h))return;const p=[...h];p.push(m),n==null||n.stageInitialValue(b+`[${p.length-1}]`,m),n==null||n.setFieldValue(b,p),t.value.push(g(m)),V()}function j(m,b){const v=c(e),h=L(n==null?void 0:n.values,v);if(!Array.isArray(h)||!(m in h)||!(b in h))return;const p=[...h],A=[...t.value],J=p[m];p[m]=p[b],p[b]=J;const Q=A[m];A[m]=A[b],A[b]=Q,n==null||n.setFieldValue(v,p),t.value=A,d()}function G(m,b){const v=c(e),h=L(n==null?void 0:n.values,v);if(!Array.isArray(h)||h.length<m)return;const p=[...h],A=[...t.value];p.splice(m,0,b),A.splice(m,0,g(b)),n==null||n.setFieldValue(v,p),t.value=A,V()}function W(m){const b=c(e);n==null||n.setFieldValue(b,m),f(),V()}function E(m,b){const v=c(e),h=L(n==null?void 0:n.values,v);!Array.isArray(h)||h.length-1<m||(n==null||n.setFieldValue(`${v}[${m}]`,b),n==null||n.validate({mode:"validated-only"}))}function y(m){const b=c(e),v=L(n==null?void 0:n.values,b),h=Ee(v)?[]:v;if(!Array.isArray(h))return;const p=[m,...h];n==null||n.stageInitialValue(b+`[${p.length-1}]`,m),n==null||n.setFieldValue(b,p),t.value.unshift(g(m)),V()}function I(m,b){const v=c(e),h=L(n==null?void 0:n.values,v),p=Ee(h)?[]:[...h];if(!Array.isArray(h)||!(m in h)||!(b in h))return;const A=[...t.value],J=A[m];A.splice(m,1),A.splice(b,0,J);const Q=p[m];p.splice(m,1),p.splice(b,0,Q),n==null||n.setFieldValue(v,p),t.value=A,V()}const B={fields:t,remove:S,push:w,swap:j,insert:G,update:E,replace:W,prepend:y,move:I};return n.fieldArrays.push(Object.assign({path:e,reset:f},B)),Nn(()=>{const m=n.fieldArrays.findIndex(b=>c(b.path)===c(e));m>=0&&n.fieldArrays.splice(m,1)}),z(u,m=>{const b=t.value.map(v=>v.value);K(m,b)||f()}),B}Ue({name:"FieldArray",inheritAttrs:!1,props:{name:{type:String,required:!0}},setup(e,n){const{push:t,remove:a,swap:r,insert:l,replace:i,update:u,prepend:f,move:d,fields:g}=nl(oe(e,"name"));function V(){return{fields:g.value,push:t,remove:a,swap:r,insert:l,update:u,replace:i,prepend:f,move:d}}return n.expose({push:t,remove:a,swap:r,insert:l,update:u,replace:i,prepend:f,move:d}),()=>Xe(void 0,n,V)}});Ue({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,n){const t=Rn(Te,void 0),a=N(()=>t==null?void 0:t.errors.value[e.name]);function r(){return{message:a.value}}return()=>{if(!a.value)return;const l=e.as?rn(e.as):e.as,i=Xe(l,n,r),u=Object.assign({role:"alert"},n.attrs);return!l&&(Array.isArray(i)||!i)&&(i!=null&&i.length)?i:(Array.isArray(i)||!i)&&!(i!=null&&i.length)?Ge(l||"span",u,a.value):Ge(l,u,i)}}});const tl=["for"],al=["name","id","type","value","placeholder"],ll=Ue({__name:"CastomInput",props:{type:{type:String,default:"text"},modelValue:{type:String,default:""},name:{type:String,required:!0},label:{type:String,required:!0},successMessage:{type:String,default:""},placeholder:{type:String,default:""}},setup(e){const n=e,t=oe(n,"name"),{value:a,errorMessage:r,handleBlur:l,handleChange:i,meta:u}=Jn(t,void 0,{initialValue:n.modelValue});return(f,d)=>(x(),q("div",{class:Un(["text-input",{"has-error":!!c(r),success:c(u).valid}])},[F("label",{for:c(t)},qe(e.label),9,tl),F("input",{name:c(t),id:c(t),type:e.type,value:c(a),placeholder:e.placeholder,onInput:d[0]||(d[0]=(...g)=>c(i)&&c(i)(...g)),onBlur:d[1]||(d[1]=(...g)=>c(l)&&c(l)(...g))},null,40,al),ze(F("p",{class:"help-message"},qe(c(r)||e.successMessage),513),[[vt,c(r)||c(u).valid]])],2))}});const Cn=re(ll,[["__scopeId","data-v-67930c3d"]]);const rl={},il=e=>(Fe("data-v-1cb77795"),e=e(),we(),e),ol={class:"close"},ul=il(()=>F("div",{class:"close__criss-cross"},null,-1)),sl=[ul];function dl(e,n){return x(),q("div",ol,sl)}const cl=re(rl,[["render",dl],["__scopeId","data-v-1cb77795"]]);const fl={class:"card"},vl={class:"card__body"},hl={class:"card__img-box"},ml={class:"card__img"},_l=["src"],gl={__name:"ImageCard",props:{id:String,ratio:String,src:String,text:String,url:String,fullPath:String,isText:{type:Boolean,default:!0},isUrl:{type:Boolean,default:!0}},emits:["updatUrl","updateText","close"],setup(e,{emit:n}){const t=e;ht(u=>({"162005e2":t.ratio}));const a=$("");z(a,u=>{u!=t.url&&n("updatUrl",t.id,u)});function r(){t.url&&(a.value=t.url)}const l=$("");z(l,u=>{u!=t.text&&n("updateText",t.id,u)});function i(){t.text&&(l.value=t.text)}return ye(()=>{r(),i()}),(u,f)=>(x(),q("div",fl,[F("div",vl,[le(cl,{class:"card__close",onClick:f[0]||(f[0]=d=>u.$emit("close",t.id,t.fullPath))}),F("div",hl,[F("div",ml,[F("img",{src:t.src},null,8,_l)])]),t.isUrl?(x(),Se(Cn,{key:0,modelValue:a.value,"onUpdate:modelValue":f[1]||(f[1]=d=>a.value=d),class:"card__input-box",name:"url",type:"url",label:"URL:",placeholder:"URL"},null,8,["modelValue"])):$e("",!0),t.isText?(x(),Se(Cn,{key:1,modelValue:l.value,"onUpdate:modelValue":f[2]||(f[2]=d=>l.value=d),class:"card__input-box",name:"text",type:"text",label:"Текст:",placeholder:"Текст"},null,8,["modelValue"])):$e("",!0)])]))}},pl=re(gl,[["__scopeId","data-v-29ec8737"]]);const yl={class:"select"},bl={for:"select",class:"select__label-select"},Vl=["value"],Sl=["value"],Ol={__name:"CastomSelect",props:["modelValue","selectText","selectValue"],emits:["update:modelValue"],setup(e){const n=e,t=$([]);function a(){const r=n.selectValue!==void 0?n.selectValue:n.selectText;for(let l=0;l<n.selectText.length;l++)t.value.push({value:n.selectText[l],text:r[l]})}return ye(()=>{a()}),(r,l)=>(x(),q("div",yl,[F("label",bl,[be(r.$slots,"default",{},void 0,!0)]),F("select",{class:"select__body",name:"select",value:n.modelValue,onInput:l[0]||(l[0]=i=>r.$emit("update:modelValue",i.target.value))},[(x(!0),q(un,null,xn(t.value,i=>(x(),q("option",{value:i.value,key:i.value},qe(i.text),9,Sl))),128))],40,Vl)]))}},Fl=re(Ol,[["__scopeId","data-v-6baaf4c5"]]);const wl=e=>(Fe("data-v-1269254b"),e=e(),we(),e),Al={class:"banner__main-block"},Bl=wl(()=>F("span",null,"Зберегти",-1)),kl={__name:"UniversalBanner",props:{name:{type:String,required:!0},folderForSaveFile:{type:String,required:!0},nameBanners:{type:String,required:""}},emits:["goingLoading"],setup(e,{emit:n}){const t=e,a=Mn(),r=$(!0),l=$(!0),i=N(()=>r.value!=l.value),u=$(!1);z(u,v=>{n("goingLoading",v)}),ye(()=>{f(t.name,j.value)});async function f(v,h){(await $n(jn(Le,v))).forEach(A=>{A.id!="showingBlock"&&A.id!="sliderSpeed"?h.push(A.data()):A.id=="showingBlock"?(r.value=A.data().show,l.value=A.data().show):A.id=="sliderSpeed"&&(B.value=A.data().speed,m.value=A.data().speed)})}async function d(){try{new Promise((v,h)=>{u.value=!0,Object.keys(w.value).length||Object.keys(W.value).length?new Promise((p,A)=>{mt(w.value,t.name,W.value,t.folderForSaveFile+"/"+t.name+"/",j.value).then(()=>{p(),A()})}).then(()=>v(),()=>h()):(v(),h())}).catch(v=>console.log(v)).then(()=>{i.value&&(bn("showingBlock",t.name,"show",r.value,!1),l.value=r.value)},v=>{console.log(v)}).then(()=>{b.value&&(bn("sliderSpeed",t.name,"speed",B.value,!1),m.value=B.value)},v=>{console.log(v),a.addMessage(t.nameBanners,!0,v)}).then(()=>{console.log("e"),u.value=!1,console.log(u.value),a.addMessage(t.nameBanners,!1)},v=>console.log(v))}catch(v){u.value=!1,a.addMessage(t.nameBanners,!0),console.log(t.nameBanners+v)}}function g(v,h){Vn(w.value,v,"url",h)}function V(v,h){Vn(w.value,v,"text",h)}function S(v){r.value=v}const w=$([]),j=$([]);function G(v){for(const h of v){let p=_t(),A={id:p,image:h},J={id:p,downloadUrl:URL.createObjectURL(h)};w.value.push(A),j.value.push(J)}}const W=$([]);function E(v,h){gt(v,j.value,w.value,t.name,W.value,h)}const y=N(()=>Object.keys(w.value).length>0||Object.keys(W.value).length?(console.log(1),!1):i.value?(console.log(r.value),console.log(l.value),!1):b.value?(console.log(1),!1):!0),I=[5,10,15],B=$("5"),m=$("5"),b=N(()=>B.value!=m.value);return(v,h)=>(x(),Se(Pn,null,{title:te(()=>[Ve(qe(t.nameBanners),1)]),label:te(()=>[le(va,{value:r.value,onInputValue:S},null,8,["value"])]),body:te(()=>[F("div",Al,[(x(!0),q(un,null,xn(j.value,p=>(x(),Se(pl,{key:p.id,id:p.id,src:p.downloadUrl,url:p.url,fullPath:p.fullPath,text:p.text,ratio:"19%",onUpdatUrl:g,onUpdateText:V,onClose:E},null,8,["id","src","url","fullPath","text"]))),128)),le(Dn,{multiple:!0,onUploadedFiles:G})])]),footer:te(()=>[le(Fl,{modelValue:B.value,"onUpdate:modelValue":h[0]||(h[0]=p=>B.value=p),selectText:I},{default:te(()=>[Ve(" Швидкість зміни слайдів ")]),_:1},8,["modelValue"]),le(Qe,{class:"banner__saving-button",onClick:d,disabled:c(y),loading:u.value},{default:te(()=>[Bl]),_:1},8,["disabled","loading"])]),_:1}))}},In=re(kl,[["__scopeId","data-v-1269254b"]]),Il={__name:"BannersPage",setup(e){const n=$(!1);function t(i){n.value=i}const a={name:"topBanner",folderForSaveFile:"banners",nameBanners:"На головній верх"},r="backgroundBanner",l={name:"newsBanners",folderForSaveFile:"banners",nameBanners:"На головній новини та акції"};return(i,u)=>(x(),q(un,null,[n.value?(x(),Se(da,{key:0})):$e("",!0),le(In,{name:a.name,folderForSaveFile:a.folderForSaveFile,nameBanners:a.nameBanners,onGoingLoading:t},null,8,["name","folderForSaveFile","nameBanners"]),le(aa,{name:r,onGoingLoading:t}),le(In,{name:l.name,folderForSaveFile:l.folderForSaveFile,nameBanners:l.nameBanners,onGoingLoading:t},null,8,["name","folderForSaveFile","nameBanners"])],64))}};export{Il as default};
