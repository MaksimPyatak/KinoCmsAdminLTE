import{u as G,c as $,a as H,b as A}from"./index.esm-ddc1dfec.js";import{F as J,G as Q,C as j}from"./CastomInput-35eb537f.js";import{C as F}from"./CastomButton-545755a7.js";import{_ as C,b as I,w as K,a as W,r as f,o as t,c as d,H as g,I as U,k as y,f as k,h as m,J as w,B,Q as X,R as Y,m as a,S as Z,z as D,A as N,T as ee,i as le,U as ae,j as b,e as S,g as te,V as ne,N as se}from"./index-e5c22a2d.js";function x(){return{uk:{local:"uk",label:"Українська",disabled:!0},en:{local:"en",label:"Англійська"}}}const oe={class:"lang-box"},ue={__name:"LanguageTabs",props:{selectedLang:{type:String}},emits:["passLeng"],setup(s){const p=s,e=I(()=>p.selectedLang);K(e,n=>{u(n)}),W(()=>{Object.assign(o.value,x())});const o=f({});function u(n){if(o.value[n].disabled!==!0){for(const l in o.value)Object.hasOwnProperty.call(o.value,l)&&(o.value[l].disabled=!1);o.value[n].disabled=!0}}return(n,l)=>(t(),d("div",oe,[(t(!0),d(g,null,U(o.value,_=>(t(),y(F,{type:"button",class:"lang-box__tabs",onClick:c=>n.$emit("passLeng",_.local),disabled:_.disabled,key:_.local},{default:k(()=>[m("span",null,w(_.label),1)]),_:2},1032,["onClick","disabled"]))),128))]))}},re=C(ue,[["__scopeId","data-v-6a1a30f1"]]);const P=s=>(D("data-v-3aca47cb"),s=s(),N(),s),ie=P(()=>m("label",null,"Дата прем'єри",-1)),de=["onClick"],ce=P(()=>m("i",{class:"far fa-calendar","aria-hidden":"true"},null,-1)),me=[ce],pe=["value"],_e={__name:"CalendarComponent",props:["inputValue"],emits:["update:inputValue"],setup(s){const p=f(!1),e=f(new Date);return(o,u)=>(t(),y(a(Z),{modelValue:e.value,"onUpdate:modelValue":u[3]||(u[3]=n=>e.value=n),popover:!1},{default:k(({togglePopover:n,inputValue:l,inputEvents:_})=>[ie,m("div",{class:B(["block flex rounded-lg dark:border-gray-600 overflow-hidden",{focus:p.value}])},[m("button",{type:"button",class:"flex justify-center items-center px-2 bg-accent-100 text-accent-700 border-rdark:bg-gray-700 dark:text-accent-300",onClick:()=>n()},me,8,de),m("input",X({value:l},Y(_,!0),{onFocus:u[0]||(u[0]=c=>p.value=!0),onBlur:u[1]||(u[1]=c=>p.value=!1),onInput:u[2]||(u[2]=c=>o.$emit("update:inputValue",c.target.value)),class:"flex-grow px-2 py-1 bg-accent-100 dark:bg-gray-700"}),null,16,pe)],2)]),_:1},8,["modelValue"]))}},ve=C(_e,[["__scopeId","data-v-3aca47cb"]]);const fe=["for"],ge=["name","id","type","value","placeholder"],be={__name:"CastomTextarea",props:{type:{type:String,default:"text"},modelValue:{type:String,default:""},value:{type:String,default:""},name:{type:String,required:!0},label:{type:String,required:!0},placeholder:{type:String,default:""}},setup(s){const p=s,e=ee(p,"name"),{value:o,errorMessage:u,handleBlur:n,handleChange:l}=G(e,void 0,{initialValue:p.modelValue});return(_,c)=>(t(),d("div",{class:B(["TextInput",{"has-error":!!a(u)}])},[m("label",{for:a(e)},w(s.label),9,fe),m("textarea",{rows:"3",name:a(e),id:a(e),type:s.type,value:a(o),placeholder:s.placeholder,onInput:c[0]||(c[0]=(...h)=>a(l)&&a(l)(...h)),onBlur:c[1]||(c[1]=(...h)=>a(n)&&a(n)(...h))},null,40,ge),le(m("p",{class:"help-message"},w(a(u)),513),[[ae,a(u)]])],2))}},ye=C(be,[["__scopeId","data-v-2f865364"]]);const ke={class:"one-img__photo-box"},he={key:0,class:"one-img__img-box"},xe={class:"one-img__img"},Ie=["src"],Ve={__name:"OneImg",props:{downloadUrl:{type:String}},emits:["transferFile","delFile"],setup(s,{emit:p}){const e=s,o=f(null),u=async _=>{for(const c of _)o.value=URL.createObjectURL(c);p("transferFile",_)},n=I(()=>e.downloadUrl?e.downloadUrl:o.value);function l(){o.value?o.value=null:e.downloadUrl&&p("delOneFile")}return(_,c)=>(t(),d("div",ke,[a(n)?(t(),d("div",he,[m("div",xe,[m("img",{src:a(n)},null,8,Ie)])])):b("",!0),S(J,{class:"one-img__upload",multiple:!1,onUploadedFiles:u}),a(n)?(t(),y(F,{key:1,class:"one-img__del-photo-btn",onClick:l,type:"button"},{default:k(()=>[te(" Видалити ")]),_:1})):b("",!0)]))}},Ue=C(Ve,[["__scopeId","data-v-5fa31f57"]]);const R=s=>(D("data-v-b1263245"),s=s(),N(),s),Ce=R(()=>m("h1",null,"Film",-1)),Se={key:0,class:"film__error-tab"},$e={key:0,class:"film__error-en"},we=R(()=>m("span",null,"Зберегти",-1)),Fe={__name:"FilmPage",props:{src:{type:String}},setup(s){ne(()=>{p()}),I(()=>L.value.valid);function p(){for(const v of Object.keys(x()))l.value[v]={}}const e=f("uk");f(!1);const o=f(!1),u=I(()=>!(o.value==!0&&L.value.valid==!1));async function n(v){e.value=v}const l=f({id:"",premierDate:new Date,filmType:{"3d":!1,"2d":!1,imax:!1}}),_=I(()=>l.value[e.value].mainImg&&l.value[e.value].mainImg.downUrl?l.value[e.value].mainImg.downUrl:null);function c(v){for(const r of v)l.value[e.value].mainImg||(l.value[e.value].mainImg={}),l.value[e.value].mainImg.downUrl=URL.createObjectURL(r),l.value[e.value].mainImg.file=r,l.value[e.value].mainImg.id=se();console.log(l.value)}const h={NameFilm:$().required(),Description:$().required(),UrlTreler:$().url().required()},q=I(()=>{let v={};return Object.keys(x()).forEach(r=>{for(const i in h)Object.hasOwnProperty.call(h,i)&&(v[r+i]=h[i])}),A(v)}),{handleSubmit:M,validate:Le,meta:L,isSubmitting:E}=H({validationSchema:q,keepValuesOnUnmount:!0});f(null);const z=f(!1);function O({values:v,errors:r,results:i}){console.log(v),console.log(r),console.log(i)}const T=M(v=>{console.log(v),console.log(l.value)},O);return(v,r)=>(t(),y(Q,{class:"film"},{title:k(()=>[Ce]),label:k(()=>[a(u)?b("",!0):(t(),d("div",Se," Заповніть правильно поля форми ")),S(re,{selectedLang:e.value,onPassLeng:n},null,8,["selectedLang"])]),body:k(()=>[m("form",{onSubmit:r[4]||(r[4]=(...i)=>a(T)&&a(T)(...i)),onInvalidSubmit:O},[(t(!0),d(g,null,U(Object.keys(a(x)()),i=>(t(),d(g,null,[i==e.value?(t(),y(j,{key:0,modelValue:l.value[e.value].name,"onUpdate:modelValue":r[0]||(r[0]=V=>l.value[e.value].name=V),class:"film__input-name-film",name:e.value+"NameFilm",type:"text",label:"Назва фільму",placeholder:"Назва фільму"},null,8,["modelValue","name"])):b("",!0)],64))),256)),S(ve,{modelValue:l.value.premierDate,"onUpdate:modelValue":r[1]||(r[1]=i=>l.value.premierDate=i)},null,8,["modelValue"]),(t(!0),d(g,null,U(Object.keys(a(x)()),i=>(t(),d(g,null,[i==e.value?(t(),y(ye,{key:0,modelValue:l.value[e.value].description,"onUpdate:modelValue":r[2]||(r[2]=V=>l.value[e.value].description=V),name:e.value+"Description",type:"text",label:"Опис",placeholder:"Опис"},null,8,["modelValue","name"])):b("",!0)],64))),256)),(t(!0),d(g,null,U(Object.keys(a(x)()),i=>(t(),d(g,null,[i==e.value?(t(),y(Ue,{key:0,onTransferFile:c,downloadUrl:a(_)},null,8,["downloadUrl"])):b("",!0)],64))),256)),(t(!0),d(g,null,U(Object.keys(a(x)()),i=>(t(),d(g,null,[i==e.value?(t(),y(j,{key:0,modelValue:l.value[e.value].trellerUrl,"onUpdate:modelValue":r[3]||(r[3]=V=>l.value[e.value].trellerUrl=V),class:"film__input-box",name:e.value+"UrlTreler",type:"url",label:"Посилання на трейлер",placeholder:"Посилання на трейлер"},null,8,["modelValue","name"])):b("",!0)],64))),256)),z.value&&e.value!="en"?(t(),d("div",$e," Заповніть англійську вкладку ")):b("",!0),S(F,{class:"film__saving-button",type:"submit",disabled:a(E)},{default:k(()=>[we]),_:1},8,["disabled"])],32)]),footer:k(()=>[]),_:1}))}},De=C(Fe,[["__scopeId","data-v-b1263245"]]);export{De as default};
