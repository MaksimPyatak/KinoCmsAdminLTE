import{_ as j,b as V,w as ie,a as Q,r as k,o as s,c as g,G as b,H as x,k as I,f as O,h as c,I as R,B as J,O as de,Q as ce,m as o,R as me,z as M,A as E,S as ve,i as S,T as $,e as U,g as P,U as D,V as pe,j as T,M as A}from"./index-88d7b820.js";import{u as _e,c as w,a as ge,b as fe,d as ye}from"./index.esm-3cbaa421.js";import{F as W,C,G as be,I as Ve}from"./ImageCard-45b39ac7.js";import{C as N}from"./CastomButton-b5a991b6.js";function y(){return{uk:{local:"uk",label:"Українська",disabled:!0},en:{local:"en",label:"Англійська"}}}const ke={class:"lang-box"},Ue={__name:"LanguageTabs",props:{selectedLang:{type:String}},emits:["passLeng"],setup(u){const p=u,n=V(()=>p.selectedLang);ie(n,r=>{m(r)}),Q(()=>{Object.assign(e.value,y())});const e=k({});function m(r){if(e.value[r].disabled!==!0){for(const f in e.value)Object.hasOwnProperty.call(e.value,f)&&(e.value[f].disabled=!1);e.value[r].disabled=!0}}return(r,f)=>(s(),g("div",ke,[(s(!0),g(b,null,x(e.value,l=>(s(),I(N,{type:"button",class:"lang-box__tabs",onClick:i=>r.$emit("passLeng",l.local),disabled:l.disabled,key:l.local},{default:O(()=>[c("span",null,R(l.label),1)]),_:2},1032,["onClick","disabled"]))),128))]))}},Ie=j(Ue,[["__scopeId","data-v-6a1a30f1"]]);const X=u=>(M("data-v-3aca47cb"),u=u(),E(),u),he=X(()=>c("label",null,"Дата прем'єри",-1)),we=["onClick"],xe=X(()=>c("i",{class:"far fa-calendar","aria-hidden":"true"},null,-1)),Oe=[xe],Se=["value"],$e={__name:"CalendarComponent",props:["inputValue"],emits:["update:inputValue"],setup(u){const p=k(!1),n=k(new Date);return(e,m)=>(s(),I(o(me),{modelValue:n.value,"onUpdate:modelValue":m[3]||(m[3]=r=>n.value=r),popover:!1},{default:O(({togglePopover:r,inputValue:f,inputEvents:l})=>[he,c("div",{class:J(["block flex rounded-lg dark:border-gray-600 overflow-hidden",{focus:p.value}])},[c("button",{type:"button",class:"flex justify-center items-center px-2 bg-accent-100 text-accent-700 border-rdark:bg-gray-700 dark:text-accent-300",onClick:()=>r()},Oe,8,we),c("input",de({value:f},ce(l,!0),{onFocus:m[0]||(m[0]=i=>p.value=!0),onBlur:m[1]||(m[1]=i=>p.value=!1),onInput:m[2]||(m[2]=i=>e.$emit("update:inputValue",i.target.value)),class:"flex-grow px-2 py-1 bg-accent-100 dark:bg-gray-700"}),null,16,Se)],2)]),_:1},8,["modelValue"]))}},Te=j($e,[["__scopeId","data-v-3aca47cb"]]);const Ce=["for"],je=["name","id","type","value","placeholder"],Be={__name:"CastomTextarea",props:{type:{type:String,default:"text"},modelValue:{type:String,default:""},value:{type:String,default:""},name:{type:String,required:!0},label:{type:String,required:!0},placeholder:{type:String,default:""}},setup(u){const p=u,n=ve(p,"name"),{value:e,errorMessage:m,handleBlur:r,handleChange:f}=_e(n,void 0,{initialValue:p.modelValue});return(l,i)=>(s(),g("div",{class:J(["TextInput",{"has-error":!!o(m)}])},[c("label",{for:o(n)},R(u.label),9,Ce),c("textarea",{rows:"3",name:o(n),id:o(n),type:u.type,value:o(e),placeholder:u.placeholder,onInput:i[0]||(i[0]=(..._)=>o(f)&&o(f)(..._)),onBlur:i[1]||(i[1]=(..._)=>o(r)&&o(r)(..._))},null,40,je),S(c("p",{class:"help-message"},R(o(m)),513),[[$,o(m)]])],2))}},Ge=j(Be,[["__scopeId","data-v-2f865364"]]);const Fe={class:"one-img__photo-box"},De={class:"one-img__img-box"},qe={class:"one-img__img"},Le=["src"],Ke={class:"one-img__error"},Re={__name:"OneImg",props:{downloadUrl:{type:String},error:{type:Boolean,default:!1}},emits:["transferFile","delOneFile"],setup(u,{emit:p}){const n=u,e=k(null),m=async l=>{for(const i of l)e.value=URL.createObjectURL(i);p("transferFile",l)},r=V(()=>n.downloadUrl?n.downloadUrl:e.value);function f(){e.value&&(e.value=null),n.downloadUrl&&p("delOneFile")}return(l,i)=>(s(),g("div",Fe,[S(c("div",De,[c("div",qe,[c("img",{src:o(r)},null,8,Le)])],512),[[$,o(r)]]),U(W,{class:"one-img__upload",multiple:!1,onUploadedFiles:m}),S(U(N,{class:"one-img__del-photo-btn",onClick:f,type:"button"},{default:O(()=>[P(" Видалити ")]),_:1},512),[[$,o(r)]]),S(c("div",Ke," Додайте зображення ",512),[[$,n.error]])]))}},Me=j(Re,[["__scopeId","data-v-3c629685"]]);const Ee=u=>(M("data-v-fb620cd6"),u=u(),E(),u),Pe={class:"seo-block"},Ne=Ee(()=>c("h3",{class:"seo-block__title"},"SEO блок",-1)),ze={__name:"SeoBlock",props:{lang:{type:String,required:!0},seoUrlValue:{type:String,required:!0},seoTitleValue:{type:String,required:!0},seoKeywordsValue:{type:String,required:!0},seoDescriptionValue:{type:String,required:!0}},emits:["update:seoUrlValue","update:seoTitleValue","update:seoKeywordsValue","update:seoDescriptionValue"],setup(u,{emit:p}){const n=u,e=V({get(){return n.seoUrlValue},set(l){p("update:seoUrlValue",l)}}),m=V({get(){return n.seoTitleValue},set(l){p("update:seoTitleValue",l)}}),r=V({get(){return n.seoKeywordsValue},set(l){p("update:seoKeywordsValue",l)}}),f=V({get(){return n.seoDescriptionValue},set(l){p("update:seoDescriptionValue",l)}});return(l,i)=>(s(),g("div",Pe,[Ne,U(C,{modelValue:o(e),"onUpdate:modelValue":i[0]||(i[0]=_=>D(e)?e.value=_:null),class:"seo-block__url-input",name:n.lang+"seoUrl",type:"url",label:"URL",placeholder:"URL"},null,8,["modelValue","name"]),U(C,{modelValue:o(m),"onUpdate:modelValue":i[1]||(i[1]=_=>D(m)?m.value=_:null),class:"seo-block__title-input",name:n.lang+"seoTitle",type:"text",label:"Title",placeholder:"Title"},null,8,["modelValue","name"]),U(C,{modelValue:o(r),"onUpdate:modelValue":i[2]||(i[2]=_=>D(r)?r.value=_:null),class:"seo-block__keywords-input",name:n.lang+"seoKeywords",type:"text",label:"Keywords",placeholder:"Keywords"},null,8,["modelValue","name"]),U(C,{modelValue:o(f),"onUpdate:modelValue":i[3]||(i[3]=_=>D(f)?f.value=_:null),class:"seo-block__description-input",name:n.lang+"seoDescription",type:"text",label:"Description",placeholder:"Description"},null,8,["modelValue","name"])]))}},He=j(ze,[["__scopeId","data-v-fb620cd6"]]);const G=u=>(M("data-v-aa8428fc"),u=u(),E(),u),Ae=G(()=>c("h1",null,"Film",-1)),Qe={key:0,class:"film__error-tab"},Je=G(()=>c("div",{class:"film__label"},"Головна картинка",-1)),We=G(()=>c("div",{class:"film__label"},[P(" Галерея картинок "),c("br"),c("span",null,"Розмір 1000х190")],-1)),Xe={class:"film__gallery-image"},Ye={class:"film__img-gallery-error"},Ze={key:0,class:"film__error-en"},el=G(()=>c("br",null,null,-1)),ll=G(()=>c("span",null,"Зберегти",-1)),al={__name:"FilmPage",props:{src:{type:String}},setup(u){pe(()=>{n(),oe()}),Q(()=>{ee()});const p=k(!0);function n(){for(const d of Object.keys(y()))l.value[d]={}}const e=k("uk"),m=k(!1),r=V(()=>!(m.value==!0&&F.value.valid==!1));async function f(d){e.value=d}const l=k({id:"",premierDate:new Date,filmTypes:{}}),i=V(()=>l.value[e.value].mainImg&&l.value[e.value].mainImg.downUrl?l.value[e.value].mainImg.downUrl:null),_=k({});function Y(d){for(const t of d)l.value[e.value].mainImg||(l.value[e.value].mainImg={}),l.value[e.value].mainImg.downUrl=URL.createObjectURL(t),l.value[e.value].mainImg.file=t,l.value[e.value].mainImg.id=A(),_.value[e.value]&&(_.value[e.value]=!1)}function Z(){l.value[e.value].mainImg&&(l.value[e.value].mainImg={}),_.value[e.value]===!1&&(_.value[e.value]=!0)}const h=k({});function ee(){for(const d of Object.keys(y()))h.value[d]=!1}const le=V(()=>l.value[e.value].imgGallery?l.value[e.value].imgGallery:{});function ae(d){for(const t of d){l.value[e.value].imgGallery||(l.value[e.value].imgGallery={});const a=A();l.value[e.value].imgGallery[a]={},l.value[e.value].imgGallery[a].id=a,l.value[e.value].imgGallery[a].downUrl=URL.createObjectURL(t),l.value[e.value].imgGallery[a].file=t,h.value[e.value]&&(h.value[e.value]=!1)}}function te(d){delete l.value[e.value].imgGallery[d],Object.keys(l.value[e.value].imgGallery).length==0&&(h.value[e.value]=!0)}function oe(){for(const d of Object.keys(y()))l.value[d].seoBlock={url:"",tilte:"",keywords:"",description:""}}const q={NameFilm:w().required(),Description:w().required(),UrlTreler:w().url().required(),seoUrl:w().url().required(),seoTitle:w().required(),seoKeywords:w().required(),seoDescription:w().required(),filmTypes:ge().of(w().required()).required()},se=V(()=>{let d={};return Object.keys(y()).forEach(t=>{for(const a in q)Object.hasOwnProperty.call(q,a)&&(d[t+a]=q[a])}),ye(d)}),{handleSubmit:ne,validate:tl,meta:F,isSubmitting:ue}=fe({validationSchema:se,keepValuesOnUnmount:!0}),re=V(()=>Object.values(_.value).includes(!0)||Object.values(h.value).includes(!0));function L(d){for(const t of Object.keys(y()))l.value[t].mainImg&&l.value[t].mainImg.downUrl||(_.value[t]=!0)}function K(d){for(const t of Object.keys(y()))l.value[t].imgGallery?!Object.keys(l.value[t].imgGallery).length>0&&(h.value[t]=!0):h.value[t]=!0}function z({values:d,errors:t,results:a}){console.log(d),console.log(t),console.log(a),console.log(l.value),p.value=F.value.valid,L(),K()}const H=ne(d=>{p.value=F.value.valid;let t=0,a=0;const v=Object.keys(y());for(const B of v)l.value[B].mainImg&&l.value[B].mainImg.downUrl?t++:L(),l.value[B].imgGallery&&Object.keys(l.value[B].imgGallery).length>0?a++:K();for(const B of v);t==v.length&&a==v.length&&(console.log(d),console.log(l.value))},z);return(d,t)=>(s(),I(be,{class:"film"},{title:O(()=>[Ae]),label:O(()=>[o(r)?T("",!0):(s(),g("div",Qe," Заповніть правильно поля форми ")),U(Ie,{selectedLang:e.value,onPassLeng:f},null,8,["selectedLang"])]),body:O(()=>[c("form",{onSubmit:t[4]||(t[4]=(...a)=>o(H)&&o(H)(...a)),onInvalidSubmit:z},[(s(!0),g(b,null,x(Object.keys(o(y)()),a=>(s(),g(b,null,[a==e.value?(s(),I(C,{key:0,modelValue:l.value[e.value].name,"onUpdate:modelValue":t[0]||(t[0]=v=>l.value[e.value].name=v),class:"film__input-name-film",name:e.value+"NameFilm",type:"text",label:"Назва фільму",placeholder:"Назва фільму"},null,8,["modelValue","name"])):T("",!0)],64))),256)),U(Te,{modelValue:l.value.premierDate,"onUpdate:modelValue":t[1]||(t[1]=a=>l.value.premierDate=a)},null,8,["modelValue"]),(s(!0),g(b,null,x(Object.keys(o(y)()),a=>(s(),g(b,null,[a==e.value?(s(),I(Ge,{key:0,modelValue:l.value[e.value].description,"onUpdate:modelValue":t[2]||(t[2]=v=>l.value[e.value].description=v),name:e.value+"Description",type:"text",label:"Опис",placeholder:"Опис"},null,8,["modelValue","name"])):T("",!0)],64))),256)),Je,(s(!0),g(b,null,x(Object.keys(o(y)()),a=>S((s(),I(Me,{onTransferFile:Y,onDelOneFile:Z,downloadUrl:o(i),error:_.value[e.value]},null,8,["downloadUrl","error"])),[[$,a==e.value]])),256)),We,(s(!0),g(b,null,x(Object.keys(o(y)()),a=>S((s(),g("div",Xe,[(s(!0),g(b,null,x(o(le),v=>(s(),I(Ve,{class:"film__image-card",key:v.id,id:v.id,src:v.downUrl,isText:!1,"is-url":!1,ratio:"19%",onClose:te},null,8,["id","src"]))),128)),U(W,{class:"film__adding-gallery-image",multiple:!0,onUploadedFiles:ae}),S(c("div",Ye," Додайте зображення ",512),[[$,h.value[e.value]&&a==e.value]])],512)),[[$,a==e.value]])),256)),(s(!0),g(b,null,x(Object.keys(o(y)()),a=>(s(),g(b,null,[a==e.value?(s(),I(C,{key:0,modelValue:l.value[e.value].trellerUrl,"onUpdate:modelValue":t[3]||(t[3]=v=>l.value[e.value].trellerUrl=v),class:"film__input-box",name:e.value+"UrlTreler",type:"url",label:"Посилання на трейлер",placeholder:"Посилання на трейлер"},null,8,["modelValue","name"])):T("",!0)],64))),256)),(s(!0),g(b,null,x(Object.keys(o(y)()),a=>(s(),g(b,null,[a==e.value?(s(),I(He,{key:0,lang:e.value,seoUrlValue:l.value[a].seoBlock.url,"onUpdate:seoUrlValue":v=>l.value[a].seoBlock.url=v,seoTitleValue:l.value[a].seoBlock.tilte,"onUpdate:seoTitleValue":v=>l.value[a].seoBlock.tilte=v,seoKeywordsValue:l.value[a].seoBlock.keywords,"onUpdate:seoKeywordsValue":v=>l.value[a].seoBlock.keywords=v,seoDescriptionValue:l.value[a].seoBlock.description,"onUpdate:seoDescriptionValue":v=>l.value[a].seoBlock.description=v},null,8,["lang","seoUrlValue","onUpdate:seoUrlValue","seoTitleValue","onUpdate:seoTitleValue","seoKeywordsValue","onUpdate:seoKeywordsValue","seoDescriptionValue","onUpdate:seoDescriptionValue"])):T("",!0)],64))),256)),o(re)||!(p.value||o(F))?(s(),g("div",Ze,[el,P(" Заповніть дані всіма мовами ")])):T("",!0),U(N,{class:"film__saving-button",type:"submit",disabled:o(ue)},{default:O(()=>[ll]),_:1},8,["disabled"])],32)]),footer:O(()=>[]),_:1}))}},rl=j(al,[["__scopeId","data-v-aa8428fc"]]);export{rl as default};
