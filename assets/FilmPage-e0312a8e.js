import{_ as $,b as x,w as le,a as ae,r as f,o as s,c as v,G as g,H as k,k as I,f as h,h as o,I as T,B as N,O as te,Q as ne,m as n,R as se,z as q,A as E,S as oe,i as V,T as w,e as U,g as z,U as ue,j as O,M}from"./index-db9c0546.js";import{u as re,c as j,a as ie,b as de}from"./index.esm-fb009f5d.js";import{F as H,G as ce,C as P,I as me}from"./ImageCard-7603fb66.js";import{C as G}from"./CastomButton-50b667de.js";function b(){return{uk:{local:"uk",label:"Українська",disabled:!0},en:{local:"en",label:"Англійська"}}}const ve={class:"lang-box"},_e={__name:"LanguageTabs",props:{selectedLang:{type:String}},emits:["passLeng"],setup(r){const _=r,e=x(()=>_.selectedLang);le(e,u=>{d(u)}),ae(()=>{Object.assign(i.value,b())});const i=f({});function d(u){if(i.value[u].disabled!==!0){for(const l in i.value)Object.hasOwnProperty.call(i.value,l)&&(i.value[l].disabled=!1);i.value[u].disabled=!0}}return(u,l)=>(s(),v("div",ve,[(s(!0),v(g,null,k(i.value,p=>(s(),I(G,{type:"button",class:"lang-box__tabs",onClick:c=>u.$emit("passLeng",p.local),disabled:p.disabled,key:p.local},{default:h(()=>[o("span",null,T(p.label),1)]),_:2},1032,["onClick","disabled"]))),128))]))}},pe=$(_e,[["__scopeId","data-v-6a1a30f1"]]);const A=r=>(q("data-v-3aca47cb"),r=r(),E(),r),fe=A(()=>o("label",null,"Дата прем'єри",-1)),ge=["onClick"],be=A(()=>o("i",{class:"far fa-calendar","aria-hidden":"true"},null,-1)),ye=[be],Ie=["value"],he={__name:"CalendarComponent",props:["inputValue"],emits:["update:inputValue"],setup(r){const _=f(!1),e=f(new Date);return(i,d)=>(s(),I(n(se),{modelValue:e.value,"onUpdate:modelValue":d[3]||(d[3]=u=>e.value=u),popover:!1},{default:h(({togglePopover:u,inputValue:l,inputEvents:p})=>[fe,o("div",{class:N(["block flex rounded-lg dark:border-gray-600 overflow-hidden",{focus:_.value}])},[o("button",{type:"button",class:"flex justify-center items-center px-2 bg-accent-100 text-accent-700 border-rdark:bg-gray-700 dark:text-accent-300",onClick:()=>u()},ye,8,ge),o("input",te({value:l},ne(p,!0),{onFocus:d[0]||(d[0]=c=>_.value=!0),onBlur:d[1]||(d[1]=c=>_.value=!1),onInput:d[2]||(d[2]=c=>i.$emit("update:inputValue",c.target.value)),class:"flex-grow px-2 py-1 bg-accent-100 dark:bg-gray-700"}),null,16,Ie)],2)]),_:1},8,["modelValue"]))}},ke=$(he,[["__scopeId","data-v-3aca47cb"]]);const xe=["for"],Ue=["name","id","type","value","placeholder"],Ve={__name:"CastomTextarea",props:{type:{type:String,default:"text"},modelValue:{type:String,default:""},value:{type:String,default:""},name:{type:String,required:!0},label:{type:String,required:!0},placeholder:{type:String,default:""}},setup(r){const _=r,e=oe(_,"name"),{value:i,errorMessage:d,handleBlur:u,handleChange:l}=re(e,void 0,{initialValue:_.modelValue});return(p,c)=>(s(),v("div",{class:N(["TextInput",{"has-error":!!n(d)}])},[o("label",{for:n(e)},T(r.label),9,xe),o("textarea",{rows:"3",name:n(e),id:n(e),type:r.type,value:n(i),placeholder:r.placeholder,onInput:c[0]||(c[0]=(...C)=>n(l)&&n(l)(...C)),onBlur:c[1]||(c[1]=(...C)=>n(u)&&n(u)(...C))},null,40,Ue),V(o("p",{class:"help-message"},T(n(d)),513),[[w,n(d)]])],2))}},we=$(Ve,[["__scopeId","data-v-2f865364"]]);const Ce={class:"one-img__photo-box"},Oe={class:"one-img__img-box"},$e={class:"one-img__img"},Se=["src"],Fe={class:"one-img__error"},Le={__name:"OneImg",props:{downloadUrl:{type:String},error:{type:Boolean,default:!1}},emits:["transferFile","delOneFile"],setup(r,{emit:_}){const e=r,i=f(null),d=async p=>{for(const c of p)i.value=URL.createObjectURL(c);_("transferFile",p)},u=x(()=>e.downloadUrl?e.downloadUrl:i.value);function l(){i.value&&(i.value=null),e.downloadUrl&&_("delOneFile")}return(p,c)=>(s(),v("div",Ce,[V(o("div",Oe,[o("div",$e,[o("img",{src:n(u)},null,8,Se)])],512),[[w,n(u)]]),U(H,{class:"one-img__upload",multiple:!1,onUploadedFiles:d}),V(U(G,{class:"one-img__del-photo-btn",onClick:l,type:"button"},{default:h(()=>[z(" Видалити ")]),_:1},512),[[w,n(u)]]),V(o("div",Fe," Додайте зображення ",512),[[w,e.error]])]))}},je=$(Le,[["__scopeId","data-v-9fb54b99"]]);const S=r=>(q("data-v-95cefd1e"),r=r(),E(),r),Te=S(()=>o("h1",null,"Film",-1)),Ge={key:0,class:"film__error-tab"},Be=S(()=>o("div",{class:"film__label"}," Головна картинка ",-1)),De=S(()=>o("div",{class:"film__label"},[z(" Галерея картинок "),o("br"),o("span",null,"Розмір 1000х190")],-1)),Re={class:"film__gallery-image"},Me={key:0,class:"film__error-en"},Pe=S(()=>o("span",null,"Зберегти",-1)),Ne={__name:"FilmPage",props:{src:{type:String}},setup(r){ue(()=>{_()}),x(()=>B.value.valid);function _(){for(const m of Object.keys(b()))l.value[m]={}}const e=f("uk");f(!1);const i=f(!1),d=x(()=>!(i.value==!0&&B.value.valid==!1));async function u(m){e.value=m}const l=f({id:"",premierDate:new Date,filmType:{"3d":!1,"2d":!1,imax:!1}}),p=x(()=>l.value[e.value].mainImg&&l.value[e.value].mainImg.downUrl?l.value[e.value].mainImg.downUrl:null),c=f({});function C(m){for(const a of m)l.value[e.value].mainImg||(l.value[e.value].mainImg={}),l.value[e.value].mainImg.downUrl=URL.createObjectURL(a),l.value[e.value].mainImg.file=a,l.value[e.value].mainImg.id=M(),c.value[e.value]&&(c.value[e.value]=!1)}function Q(){l.value[e.value].mainImg&&(l.value[e.value].mainImg={})}const J=x(()=>l.value[e.value].imgGallery?l.value[e.value].imgGallery:{});function K(m){for(const a of m){l.value[e.value].imgGallery||(l.value[e.value].imgGallery={});const t=M();l.value[e.value].imgGallery[t]={},l.value[e.value].imgGallery[t].id=t,l.value[e.value].imgGallery[t].downUrl=URL.createObjectURL(a),l.value[e.value].imgGallery[t].file=a}}function W(m){delete l.value[e.value].imgGallery[m]}const F={NameFilm:j().required(),Description:j().required(),UrlTreler:j().url().required()},X=x(()=>{let m={};return Object.keys(b()).forEach(a=>{for(const t in F)Object.hasOwnProperty.call(F,t)&&(m[a+t]=F[t])}),de(m)}),{handleSubmit:Y,validate:qe,meta:B,isSubmitting:Z}=ie({validationSchema:X,keepValuesOnUnmount:!0});f(null);const ee=f(!1);function L(m){for(const a of Object.keys(b()))l.value[a].mainImg&&l.value[a].mainImg.downUrl||(c.value[a]=!0)}function D({values:m,errors:a,results:t}){console.log(m),console.log(a),console.log(t),L()}const R=Y(m=>{const a=Object.keys(b());for(const t of a)l.value[e.value].mainImg&&l.value[e.value].mainImg.downUrl||L();a.length&&(console.log(m),console.log(l.value))},D);return(m,a)=>(s(),I(ce,{class:"film"},{title:h(()=>[Te]),label:h(()=>[n(d)?O("",!0):(s(),v("div",Ge," Заповніть правильно поля форми ")),U(pe,{selectedLang:e.value,onPassLeng:u},null,8,["selectedLang"])]),body:h(()=>[o("form",{onSubmit:a[4]||(a[4]=(...t)=>n(R)&&n(R)(...t)),onInvalidSubmit:D},[(s(!0),v(g,null,k(Object.keys(n(b)()),t=>(s(),v(g,null,[t==e.value?(s(),I(P,{key:0,modelValue:l.value[e.value].name,"onUpdate:modelValue":a[0]||(a[0]=y=>l.value[e.value].name=y),class:"film__input-name-film",name:e.value+"NameFilm",type:"text",label:"Назва фільму",placeholder:"Назва фільму"},null,8,["modelValue","name"])):O("",!0)],64))),256)),U(ke,{modelValue:l.value.premierDate,"onUpdate:modelValue":a[1]||(a[1]=t=>l.value.premierDate=t)},null,8,["modelValue"]),(s(!0),v(g,null,k(Object.keys(n(b)()),t=>(s(),v(g,null,[t==e.value?(s(),I(we,{key:0,modelValue:l.value[e.value].description,"onUpdate:modelValue":a[2]||(a[2]=y=>l.value[e.value].description=y),name:e.value+"Description",type:"text",label:"Опис",placeholder:"Опис"},null,8,["modelValue","name"])):O("",!0)],64))),256)),Be,(s(!0),v(g,null,k(Object.keys(n(b)()),t=>V((s(),I(je,{onTransferFile:C,onDelOneFile:Q,downloadUrl:n(p),error:c.value[e.value]},null,8,["downloadUrl","error"])),[[w,t==e.value]])),256)),De,(s(!0),v(g,null,k(Object.keys(n(b)()),t=>V((s(),v("div",Re,[(s(!0),v(g,null,k(n(J),y=>(s(),I(me,{class:"film__image-card",key:y.id,id:y.id,src:y.downUrl,isText:!1,"is-url":!1,ratio:"19%",onClose:W},null,8,["id","src"]))),128)),U(H,{class:"film__adding-gallery-image",multiple:!0,onUploadedFiles:K})],512)),[[w,t==e.value]])),256)),(s(!0),v(g,null,k(Object.keys(n(b)()),t=>(s(),v(g,null,[t==e.value?(s(),I(P,{key:0,modelValue:l.value[e.value].trellerUrl,"onUpdate:modelValue":a[3]||(a[3]=y=>l.value[e.value].trellerUrl=y),class:"film__input-box",name:e.value+"UrlTreler",type:"url",label:"Посилання на трейлер",placeholder:"Посилання на трейлер"},null,8,["modelValue","name"])):O("",!0)],64))),256)),ee.value&&e.value!="en"?(s(),v("div",Me," Заповніть англійську вкладку ")):O("",!0),U(G,{class:"film__saving-button",type:"submit",disabled:n(Z)},{default:h(()=>[Pe]),_:1},8,["disabled"])],32)]),footer:h(()=>[]),_:1}))}},Qe=$(Ne,[["__scopeId","data-v-95cefd1e"]]);export{Qe as default};
