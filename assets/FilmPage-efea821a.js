import{u as G,c as L,a as H,b as z}from"./index.esm-d139be39.js";import{G as J,C as B}from"./CastomInput-d46fc37a.js";import{C as D}from"./CastomButton-27311979.js";import{_ as I,e as S,w as Q,d as A,r as f,o as t,c as m,H as b,I as $,l as k,h as g,a as i,J as C,B as P,Q as K,R as W,n as l,S as X,p as N,b as q,T as Y,j as Z,U as ee,V as ae,k as h,g as w,i as F}from"./index-32c2991f.js";function y(){return{uk:{local:"uk",label:"Українська",disabled:!0},en:{local:"en",label:"Англійська"}}}const le={class:"lang-box"},te={__name:"LanguageTabs",props:{selectedLang:{type:String}},emits:["passLeng"],setup(n){const _=n,e=S(()=>_.selectedLang);Q(e,o=>{s(o)}),A(()=>{Object.assign(d.value,y())});const d=f({});function s(o){if(d.value[o].disabled!==!0){for(const a in d.value)Object.hasOwnProperty.call(d.value,a)&&(d.value[a].disabled=!1);d.value[o].disabled=!0}}return(o,a)=>(t(),m("div",le,[(t(!0),m(b,null,$(d.value,c=>(t(),k(D,{type:"button",class:"lang-box__tabs",onClick:p=>o.$emit("passLeng",c.local),disabled:c.disabled,key:c.local},{default:g(()=>[i("span",null,C(c.label),1)]),_:2},1032,["onClick","disabled"]))),128))]))}},ne=I(te,[["__scopeId","data-v-6a1a30f1"]]);const E=n=>(N("data-v-3aca47cb"),n=n(),q(),n),se=E(()=>i("label",null,"Дата прем'єри",-1)),oe=["onClick"],ue=E(()=>i("i",{class:"far fa-calendar","aria-hidden":"true"},null,-1)),re=[ue],de=["value"],ie={__name:"CalendarComponent",props:["inputValue"],emits:["update:inputValue"],setup(n){const _=f(!1),e=f(new Date);return(d,s)=>(t(),k(l(X),{modelValue:e.value,"onUpdate:modelValue":s[3]||(s[3]=o=>e.value=o),popover:!1},{default:g(({togglePopover:o,inputValue:a,inputEvents:c})=>[se,i("div",{class:P(["block flex rounded-lg dark:border-gray-600 overflow-hidden",{focus:_.value}])},[i("button",{type:"button",class:"flex justify-center items-center px-2 bg-accent-100 text-accent-700 border-rdark:bg-gray-700 dark:text-accent-300",onClick:()=>o()},re,8,oe),i("input",K({value:a},W(c,!0),{onFocus:s[0]||(s[0]=p=>_.value=!0),onBlur:s[1]||(s[1]=p=>_.value=!1),onInput:s[2]||(s[2]=p=>d.$emit("update:inputValue",p.target.value)),class:"flex-grow px-2 py-1 bg-accent-100 dark:bg-gray-700"}),null,16,de)],2)]),_:1},8,["modelValue"]))}},ce=I(ie,[["__scopeId","data-v-3aca47cb"]]);const pe=["for"],me=["name","id","type","value","placeholder"],_e={__name:"CastomTextarea",props:{type:{type:String,default:"text"},modelValue:{type:String,default:""},value:{type:String,default:""},name:{type:String,required:!0},label:{type:String,required:!0},placeholder:{type:String,default:""}},setup(n){const _=n,e=Y(_,"name"),{value:d,errorMessage:s,handleBlur:o,handleChange:a}=G(e,void 0,{initialValue:_.modelValue});return(c,p)=>(t(),m("div",{class:P(["TextInput",{"has-error":!!l(s)}])},[i("label",{for:l(e)},C(n.label),9,pe),i("textarea",{rows:"3",name:l(e),id:l(e),type:n.type,value:l(d),placeholder:n.placeholder,onInput:p[0]||(p[0]=(...x)=>l(a)&&l(a)(...x)),onBlur:p[1]||(p[1]=(...x)=>l(o)&&l(o)(...x))},null,40,me),Z(i("p",{class:"help-message"},C(l(s)),513),[[ee,l(s)]])],2))}},ve=I(_e,[["__scopeId","data-v-e1c36b29"]]);const M=n=>(N("data-v-07fa7ccf"),n=n(),q(),n),fe=M(()=>i("h1",null,"Film",-1)),be={key:0,class:"film__error-tab"},ge={key:0,class:"film__error-en"},ye=M(()=>i("span",null,"Зберегти",-1)),ke={__name:"FilmPage",setup(n){ae(()=>{_()}),S(()=>T.value.valid);function _(){for(const v of Object.keys(y()))a.value[v]={}}const e=f("uk");f(!1);const d=f(!1),s=S(()=>!(d.value==!0&&T.value.valid==!1));async function o(v){e.value=v}const a=f({id:"",premierDate:new Date,filmType:{"3d":!1,"2d":!1,imax:!1}}),c={NameFilm:L().required(),Description:L().required(),UrlTreler:L().url().required()},p=S(()=>{let v={};return Object.keys(y()).forEach(r=>{for(const u in c)Object.hasOwnProperty.call(c,u)&&(v[r+u]=c[u])}),console.log(v),z(v)}),{handleSubmit:x,validate:xe,meta:T,isSubmitting:O}=H({validationSchema:p,keepValuesOnUnmount:!0}),R=f(!1);function U({values:v,errors:r,results:u}){console.log(v),console.log(r),console.log(u)}const j=x(()=>{console.log(a.value)},U);return(v,r)=>(t(),k(J,{class:"film"},{title:g(()=>[fe]),label:g(()=>[l(s)?h("",!0):(t(),m("div",be," Заповніть правильно поля форми ")),w(ne,{selectedLang:e.value,onPassLeng:o},null,8,["selectedLang"])]),body:g(()=>[i("form",{onSubmit:r[4]||(r[4]=(...u)=>l(j)&&l(j)(...u)),onInvalidSubmit:U},[(t(!0),m(b,null,$(Object.keys(l(y)()),u=>(t(),m(b,null,[u==e.value?(t(),k(B,{key:0,modelValue:a.value[e.value].name,"onUpdate:modelValue":r[0]||(r[0]=V=>a.value[e.value].name=V),class:"film__input-name-film",name:e.value+"NameFilm",type:"text",label:"Назва фільму",placeholder:"Назва фільму"},null,8,["modelValue","name"])):h("",!0)],64))),256)),w(ce,{modelValue:a.value.premierDate,"onUpdate:modelValue":r[1]||(r[1]=u=>a.value.premierDate=u)},null,8,["modelValue"]),(t(!0),m(b,null,$(Object.keys(l(y)()),u=>(t(),m(b,null,[u==e.value?(t(),k(ve,{key:0,modelValue:a.value[e.value].description,"onUpdate:modelValue":r[2]||(r[2]=V=>a.value[e.value].description=V),name:e.value+"Description",type:"text",label:"Опис",placeholder:"Опис"},null,8,["modelValue","name"])):h("",!0)],64))),256)),(t(!0),m(b,null,$(Object.keys(l(y)()),u=>(t(),m(b,null,[u==e.value?(t(),k(B,{key:0,modelValue:a.value[e.value].trellerUrl,"onUpdate:modelValue":r[3]||(r[3]=V=>a.value[e.value].trellerUrl=V),class:"film__input-box",name:e.value+"UrlTreler",type:"url",label:"Посилання на трейлер",placeholder:"Посилання на трейлер"},null,8,["modelValue","name"])):h("",!0)],64))),256)),F(" "+C(a.value)+" ",1),R.value&&e.value!="en"?(t(),m("div",ge," Заповніть англійську вкладку ")):h("",!0),F(" "+C(l(O))+" ",1),w(D,{class:"film__saving-button",type:"submit",disabled:l(O)},{default:g(()=>[ye]),_:1},8,["disabled"])],32)]),footer:g(()=>[]),_:1}))}},$e=I(ke,[["__scopeId","data-v-07fa7ccf"]]);export{$e as default};
